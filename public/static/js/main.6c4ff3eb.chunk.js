(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{50:function(e){e.exports=JSON.parse('{"ATENCION AL PUBLICO":{"cliente":false,"fecha":false,"serie":false,"equipo":false,"marca":false,"modelo":false,"falla":false,"trabajo":true,"abono":false,"saldo":false,"total":false,"estadoEquipo":false,"observacion":true,"anular factura":false},"ADMINISTRADOR":{"cliente":true,"fecha":true,"serie":true,"equipo":true,"marca":true,"modelo":true,"falla":true,"trabajo":true,"abono":true,"saldo":false,"total":true,"estadoEquipo":true,"observacion":true,"anular factura":true},"TECNICO":{"cliente":false,"fecha":false,"serie":false,"equipo":false,"marca":false,"modelo":false,"falla":false,"trabajo":true,"abono":false,"saldo":false,"total":false,"estadoEquipo":false,"observacion":true,"anular factura":false}}')},589:function(e,a,t){},598:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(21),c=t.n(l),o=t(33);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(437);var i=t(20),s=t(673),u=t(351),m=t(378),d=Object(u.a)((function(){return Object(m.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),p=function(){return d(),null},b=t(116);b.Chart.helpers.extend(b.Chart.elements.Rectangle.prototype,{draw:function(){var e,a,t,r,n,l,c,o,i=this._chart.ctx,s=this._view,u=s.borderWidth,m=this._chart.config.options.cornerRadius;if(m<0&&(m=0),"undefined"===typeof m&&(m=0),s.horizontal?(e=s.base,a=s.x,t=s.y-s.height/2,r=s.y+s.height/2,n=a>e?1:-1,l=1,c=s.borderSkipped||"left"):(e=s.x-s.width/2,a=s.x+s.width/2,t=s.y,n=1,l=(r=s.base)>t?1:-1,c=s.borderSkipped||"bottom"),u){var d=Math.min(Math.abs(e-a),Math.abs(t-r)),p=(u=u>d?d:u)/2,b=e+("left"!==c?p*n:0),f=a+("right"!==c?-p*n:0),g=t+("top"!==c?p*l:0),E=r+("bottom"!==c?-p*l:0);b!==f&&(t=g,r=E),g!==E&&(e=b,a=f)}i.beginPath(),i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=u;var h=[[e,r],[e,t],[a,t],[a,r]],v=["bottom","left","top","right"].indexOf(c,0);function O(e){return h[(v+e)%4]}-1===v&&(v=0);var j=O(0);i.moveTo(j[0],j[1]);for(var x=1;x<4;x+=1){j=O(x);var C=x+1;4===C&&(C=0);var y=h[2][0]-h[1][0],w=h[0][1]-h[1][1],N=h[1][0],S=h[1][1];if((o=m)>Math.abs(w)/2&&(o=Math.floor(Math.abs(w)/2)),o>Math.abs(y)/2&&(o=Math.floor(Math.abs(y)/2)),w<0){var k=N,I=N+y,T=S+w,P=S+w,_=N,A=N+y,F=S,B=S;i.moveTo(_+o,F),i.lineTo(A-o,B),i.quadraticCurveTo(A,B,A,B-o),i.lineTo(I,P+o),i.quadraticCurveTo(I,P,I-o,P),i.lineTo(k+o,T),i.quadraticCurveTo(k,T,k,T+o),i.lineTo(_,F-o),i.quadraticCurveTo(_,F,_+o,F)}else if(y<0){var R=N+y,D=N,M=S,L=S,V=N+y,U=N,W=S+w,q=S+w;i.moveTo(V+o,W),i.lineTo(U-o,q),i.quadraticCurveTo(U,q,U,q-o),i.lineTo(D,L+o),i.quadraticCurveTo(D,L,D-o,L),i.lineTo(R+o,M),i.quadraticCurveTo(R,M,R,M+o),i.lineTo(V,W-o),i.quadraticCurveTo(V,W,V+o,W)}else i.moveTo(N+o,S),i.lineTo(N+y-o,S),i.quadraticCurveTo(N+y,S,N+y,S+o),i.lineTo(N+y,S+w-o),i.quadraticCurveTo(N+y,S+w,N+y-o,S+w),i.lineTo(N+o,S+w),i.quadraticCurveTo(N,S+w,N,S+w-o),i.lineTo(N,S+o),i.quadraticCurveTo(N,S,N+o,S)}i.fill(),u&&i.stroke()}});var f=t(136),g=t(10),E=Object(f.a)({palette:{background:{dark:"#F4F6F8",default:g.a.common.white,paper:g.a.common.white},primary:{main:g.a.indigo[500]},secondary:{main:g.a.indigo[500]},text:{primary:g.a.blueGrey[900],secondary:g.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),h=t(4),v=t(30),O=t(7),j=t.n(O),x=t(11),C=t(60),y=t.n(C).a.create({baseURL:"https://facturacion.grupocompustar.com/"}),w=Object(r.createContext)(),N="api/usuarios/acceso/login",S="api/pantallapos/acceso/obtener-acceso",k=function(e){var a=Object(r.useState)(!0),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),i=Object(h.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)({login:0,usuario:"",nombres:"",tipo:""}),d=Object(h.a)(m,2),p=d[0],b=d[1],f=Object(r.useState)({avatar:"/static/images/avatars/avatar_6.png",jobTitle:"Facturacion",name:"Facturacion"}),g=Object(h.a)(f,2),E=g[0],v=g[1];Object(r.useEffect)((function(){null!==localStorage.getItem("tipousuario_id")&&O(localStorage.getItem("tipousuario_id"))}),[l]);var O=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(S+"/"+a);case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post(N,a);case 2:if(1!==(t=e.sent).data.login){e.next=7;break}return e.next=6,O(t.data.tipousuario_id);case 6:e.sent;case 7:return e.abrupt("return",t.data);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(w.Provider,{value:{isReload:l,setIsReload:c,login:C,credenciales:p,setCredenciales:b,userloggin:E,setUserloggin:v,items:s}},e.children))},I=t(599),T=t(603),P=t(51),_=t(552),A=t(383),F=t(602),B=t(554),R=t(665),D=t(666),M=t(667),L=t(668),V=t(669),U=t(670),W=t(671),q=t(13),z=t(2),G=t(382),$=t(106),Y=Object(u.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),H=function(e){var a=e.className,t=e.href,r=e.icon,l=e.title,c=Object(q.a)(e,["className","href","icon","title"]),i=Y();return n.a.createElement(G.a,Object.assign({className:Object(z.a)(i.item,a),disableGutters:!0},c),n.a.createElement($.a,{activeClassName:i.active,className:i.button,component:o.c,to:t},r&&n.a.createElement(r,{className:i.icon,size:"20"}),n.a.createElement("span",{className:i.title},l)))},K=Object(u.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),X=function(e){var a=e.onMobileClose,t=e.openMobile,l=Object(r.useContext)(w),c=l.userloggin,s=l.items,u=K(),m=Object(i.f)();Object(r.useEffect)((function(){t&&a&&a()}),[m.pathname]);var d=n.a.createElement(I.a,{height:"100%",display:"flex",flexDirection:"column"},n.a.createElement(I.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2},n.a.createElement(T.a,{className:u.avatar,component:o.b,src:c.avatar,to:"/app/account"}),n.a.createElement(P.a,{className:u.name,color:"textPrimary",variant:"h5"},"Facturacion"===c.name?localStorage.getItem("nombres"):c.name),n.a.createElement(P.a,{color:"textSecondary",variant:"body2"},"Facturacion"===c.jobTitle?localStorage.getItem("tipo_usuario"):c.jobTitle)),n.a.createElement(_.a,null),n.a.createElement(I.a,{p:2},n.a.createElement(A.a,null,s.map((function(e){return n.a.createElement(H,{href:e.href,key:e.title,title:e.title,icon:(a=e.icon,"BarChartIcon"===a?R.a:"Billing"===a?D.a:"Smartphone"===a?M.a:"UsersIcon"===a?L.a:"ShoppingBagIcon"===a?V.a:"EditIconF"===a?U.a:"iconoFacturas"===a?W.a:void 0)});var a})))),n.a.createElement(I.a,{flexGrow:1}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{lgUp:!0},n.a.createElement(B.a,{anchor:"left",classes:{paper:u.mobileDrawer},onClose:a,open:t,variant:"temporary"},d)),n.a.createElement(F.a,{mdDown:!0},n.a.createElement(B.a,{anchor:"left",classes:{paper:u.desktopDrawer},open:!0,variant:"persistent"},d)))};X.defaultProps={onMobileClose:function(){},openMobile:!1};var J=X,Q=t(555),Z=t(556),ee=t(124),ae=t(242),te=t(389),re=t.n(te),ne=t(388),le=t.n(ne),ce=function(e){return n.a.createElement("img",Object.assign({alt:"Logo",src:"/static/logo.svg"},e))},oe=Object(u.a)((function(){return{root:{},avatar:{width:60,height:60}}})),ie=function(e){var a=e.className,t=e.onMobileNavOpen,l=Object(q.a)(e,["className","onMobileNavOpen"]),c=oe(),i=Object(r.useState)([]),s=Object(h.a)(i,1)[0];return n.a.createElement(Q.a,Object.assign({className:Object(z.a)(c.root,a),elevation:0},l),n.a.createElement(Z.a,null,n.a.createElement(o.b,{to:"/app/dashboard"},n.a.createElement(ce,null)),n.a.createElement(I.a,{flexGrow:1}),n.a.createElement(F.a,{mdDown:!0},n.a.createElement(ee.a,{color:"inherit"},n.a.createElement(ae.a,{badgeContent:s.length,color:"primary",variant:"dot"})),n.a.createElement(ee.a,{color:"inherit"},n.a.createElement(o.b,{to:"/",alt:"Salir",title:"Salir",style:{color:"white"},onClick:function(){localStorage.removeItem("user_id"),localStorage.removeItem("tipo_usuario"),localStorage.removeItem("nombres"),localStorage.removeItem("tipousuario_id")}},n.a.createElement(le.a,null)))),n.a.createElement(F.a,{lgUp:!0},n.a.createElement(ee.a,{color:"inherit",onClick:t},n.a.createElement(re.a,null)))))},se=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(v.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),ue=function(){var e=se(),a=Object(r.useState)(!1),t=Object(h.a)(a,2),l=t[0],c=t[1];return n.a.createElement("div",{className:e.root},n.a.createElement(ie,{onMobileNavOpen:function(){return c(!0)}}),n.a.createElement(J,{onMobileClose:function(){return c(!1)},openMobile:l}),n.a.createElement("div",{className:e.wrapper},n.a.createElement("div",{className:e.contentContainer},n.a.createElement("div",{className:e.content},n.a.createElement(i.b,null)))))},me=Object(u.a)({root:{},toolbar:{height:64}}),de=function(e){var a=e.className,t=Object(q.a)(e,["className"]),r=me();return n.a.createElement(Q.a,Object.assign({className:Object(z.a)(r.root,a),elevation:0},t),n.a.createElement(Z.a,{className:r.toolbar},n.a.createElement(o.b,{to:"/"},n.a.createElement(ce,null))))},pe=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),be=function(){var e=pe();return n.a.createElement("div",{className:e.root},n.a.createElement(de,null),n.a.createElement("div",{className:e.wrapper},n.a.createElement("div",{className:e.contentContainer},n.a.createElement("div",{className:e.content},n.a.createElement(i.b,null)))))},fe=t(563),ge=t(562),Ee=t(390),he=Object(r.forwardRef)((function(e,a){var t=e.children,r=e.title,l=void 0===r?"":r,c=Object(q.a)(e,["children","title"]);return n.a.createElement("div",Object.assign({ref:a},c),n.a.createElement(Ee.a,null,n.a.createElement("title",null,l)),t)})),ve=t(47),Oe=t.n(ve),je=t(558),xe=t(559),Ce=t(560),ye="/static/images/avatars/avatar_6.png",we="Los Angeles",Ne="USA",Se="Mychael Castro",ke="GTM-7",Ie=Object(u.a)((function(){return{root:{},avatar:{height:100,width:100}}})),Te=function(e){var a=e.className,t=Object(q.a)(e,["className"]),r=Ie();return n.a.createElement(je.a,Object.assign({className:Object(z.a)(r.root,a)},t),n.a.createElement(xe.a,null,n.a.createElement(I.a,{alignItems:"center",display:"flex",flexDirection:"column"},n.a.createElement(T.a,{className:r.avatar,src:ye}),n.a.createElement(P.a,{color:"textPrimary",gutterBottom:!0,variant:"h3"},Se),n.a.createElement(P.a,{color:"textSecondary",variant:"body1"},"".concat(we," ").concat(Ne)),n.a.createElement(P.a,{className:r.dateText,color:"textSecondary",variant:"body1"},"".concat(Oe()().format("hh:mm A")," ").concat(ke)))),n.a.createElement(_.a,null),n.a.createElement(Ce.a,null,n.a.createElement($.a,{color:"primary",fullWidth:!0,variant:"text"},"Upload picture")))},Pe=t(8),_e=t(561),Ae=t(243),Fe=[{value:"alabama",label:"Alabama"},{value:"new-york",label:"New York"},{value:"san-francisco",label:"San Francisco"}],Be=Object(u.a)((function(){return{root:{}}})),Re=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=Be(),c=Object(r.useState)({firstName:"Mychael",lastName:"Castro",email:"desarrollos16@hotmail.com",phone:"",state:"LATAM",country:"ECU"}),o=Object(h.a)(c,2),i=o[0],s=o[1],u=function(e){s(Object(Pe.a)(Object(Pe.a)({},i),{},Object(v.a)({},e.target.name,e.target.value)))};return n.a.createElement("form",Object.assign({autoComplete:"off",noValidate:!0,className:Object(z.a)(l.root,a)},t),n.a.createElement(je.a,null,n.a.createElement(_e.a,{subheader:"The information can be edited",title:"Profile"}),n.a.createElement(_.a,null),n.a.createElement(xe.a,null,n.a.createElement(ge.a,{container:!0,spacing:3},n.a.createElement(ge.a,{item:!0,md:6,xs:12},n.a.createElement(Ae.a,{fullWidth:!0,helperText:"Please specify the first name",label:"First name",name:"firstName",onChange:u,required:!0,value:i.firstName,variant:"outlined"})),n.a.createElement(ge.a,{item:!0,md:6,xs:12},n.a.createElement(Ae.a,{fullWidth:!0,label:"Last name",name:"lastName",onChange:u,required:!0,value:i.lastName,variant:"outlined"})),n.a.createElement(ge.a,{item:!0,md:6,xs:12},n.a.createElement(Ae.a,{fullWidth:!0,label:"Email Address",name:"email",onChange:u,required:!0,value:i.email,variant:"outlined"})),n.a.createElement(ge.a,{item:!0,md:6,xs:12},n.a.createElement(Ae.a,{fullWidth:!0,label:"Phone Number",name:"phone",onChange:u,type:"number",value:i.phone,variant:"outlined"})),n.a.createElement(ge.a,{item:!0,md:6,xs:12},n.a.createElement(Ae.a,{fullWidth:!0,label:"Country",name:"country",onChange:u,required:!0,value:i.country,variant:"outlined"})),n.a.createElement(ge.a,{item:!0,md:6,xs:12},n.a.createElement(Ae.a,{fullWidth:!0,label:"Select State",name:"state",onChange:u,required:!0,select:!0,SelectProps:{native:!0},value:i.state,variant:"outlined"},Fe.map((function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.label)})))))),n.a.createElement(_.a,null),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end",p:2},n.a.createElement($.a,{color:"primary",variant:"contained"},"Save details"))))},De=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Me=function(){var e=De();return n.a.createElement(he,{className:e.root,title:"Account"},n.a.createElement(fe.a,{maxWidth:"lg"},n.a.createElement(ge.a,{container:!0,spacing:3},n.a.createElement(ge.a,{item:!0,lg:4,md:6,xs:12},n.a.createElement(Te,null)),n.a.createElement(ge.a,{item:!0,lg:8,md:6,xs:12},n.a.createElement(Re,null)))))},Le=t(146),Ve=t.n(Le),Ue=t(566),We=t(567),qe=t(568),ze=t(569),Ge=t(570),$e=t(293),Ye=(t(422),Object(u.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)}}})),t(113)),He=t.n(Ye),Ke=t(48),Xe=t.n(Ke),Je=t(581),Qe=t(179),Ze=t(16),ea=t.n(Ze),aa="api/clientes/listado/1000000",ta="api/clientes",ra="api/clientes",na=Object(r.createContext)(),la=function(e){var a=Object(r.useState)([]),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),i=Object(h.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)(0),d=Object(h.a)(m,2),p=d[0],b=d[1],f=Object(r.useState)({cedula:"",nombres:"-SELECCIONE-"}),g=Object(h.a)(f,2),E=g[0],v=g[1],O=Object(r.useState)(!1),C=Object(h.a)(O,2),w=C[0],N=C[1],S=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(aa);case 2:a=e.sent,c(a.data),u(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(ra+"/"+a);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete(ta+"/"+p.id);case 2:if(200===(a=e.sent).data.estado){e.next=6;break}return ea.a.error(a.data.mensaje,2),e.abrupt("return");case 6:ea.a.success(a.data.mensaje,2),S();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){S()}),[]),n.a.createElement(na.Provider,{value:{clientes:l,currentCliente:E,setClientes:c,setCurrentCliente:v,isNewClient:w,setIsNewClient:N,filtrar:function(e){console.log(e.target.value);var a=l.filter((function(a){var t=a.nombres.toUpperCase(),r=e.target.value.toUpperCase(),n=a.cedula.toUpperCase(),l=e.target.value.toUpperCase(),c=a.telefono.toUpperCase(),o=e.target.value.toUpperCase(),i=a.correo.toUpperCase(),s=e.target.value.toUpperCase();return t.indexOf(r)>-1||n.indexOf(l)>-1||c.indexOf(o)>-1||i.indexOf(s)>-1}));u(a)},clientesFiltro:s,setClientesFiltro:u,setDeleteCliente:b,deleteCliente:p,eliminarCliente:I,buscarCliente:k,cargarClientes:S}},e.children)},ca=t(672),oa=Object(u.a)((function(e){return{root:{},marginRight:e.spacing(1),importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),ia=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=oa(),c=Object(r.useState)({eliminar:!1,nuevoCliente:!1}),o=Object(h.a)(c,2),i=o[0],s=o[1],u=Object(r.useContext)(na),m=u.setIsNewClient,d=u.filtrar,p=u.eliminarCliente,b=u.deleteCliente;Object(r.useEffect)((function(){f()}),[]);var f=function(){null!==localStorage.getItem("tipo_usuario")&&"ATENCION AL PUBLICO"===localStorage.getItem("tipo_usuario")&&s(Object(Pe.a)(Object(Pe.a)({},i),{},{eliminar:!0}))};return n.a.createElement("div",Object.assign({className:Object(z.a)(l.root,a)},t),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end"},n.a.createElement($.a,{variant:"contained",style:{backgroundColor:"rgb(154, 0, 54)"},color:"secondary",className:l.exportButton,startIcon:n.a.createElement(He.a,null),disabled:i.eliminar,onClick:function(){void 0!==(null===b||void 0===b?void 0:b.id)&&Xe.a.fire({title:"\xbfEst\xe1 seguro de eliminar el cliente?",showDenyButton:!0,confirmButtonText:"si, eliminar",denyButtonText:"Cancelar"}).then(function(){var e=Object(x.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.isConfirmed&&p();case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},"Eliminar"),n.a.createElement($.a,{color:"primary",variant:"contained",onClick:function(){return m(!0)}},"Nuevo Cliente")),n.a.createElement(I.a,{mt:3},n.a.createElement(je.a,null,n.a.createElement(xe.a,null,n.a.createElement(I.a,{maxWidth:500},n.a.createElement(Ae.a,{fullWidth:!0,onChange:d,InputProps:{startAdornment:n.a.createElement(Je.a,{position:"start"},n.a.createElement(Qe.a,{fontSize:"small",color:"action"},n.a.createElement(ca.a,null)))},placeholder:"Buscar Cliente",variant:"outlined"}))))))},sa=t(674),ua=[{id:Object(sa.a)(),address:{country:"USA",state:"West Virginia",city:"Parkersburg",street:"2849 Fulton Street"},avatarUrl:"/static/images/avatars/avatar_3.png",createdAt:15550164e5,email:"ekaterina.tankova@devias.io",name:"Ekaterina Tankova",phone:"304-428-3097"},{id:Object(sa.a)(),address:{country:"USA",state:"Bristow",city:"Iowa",street:"1865  Pleasant Hill Road"},avatarUrl:"/static/images/avatars/avatar_4.png",createdAt:15550164e5,email:"cao.yu@devias.io",name:"Cao Yu",phone:"712-351-5711"},{id:Object(sa.a)(),address:{country:"USA",state:"Georgia",city:"Atlanta",street:"4894  Lakeland Park Drive"},avatarUrl:"/static/images/avatars/avatar_2.png",createdAt:15550164e5,email:"alexa.richardson@devias.io",name:"Alexa Richardson",phone:"770-635-2682"},{id:Object(sa.a)(),address:{country:"USA",state:"Ohio",city:"Dover",street:"4158  Hedge Street"},avatarUrl:"/static/images/avatars/avatar_5.png",createdAt:155493e7,email:"anje.keizer@devias.io",name:"Anje Keizer",phone:"908-691-3242"},{id:Object(sa.a)(),address:{country:"USA",state:"Texas",city:"Dallas",street:"75247"},avatarUrl:"/static/images/avatars/avatar_6.png",createdAt:15547572e5,email:"clarke.gillebert@devias.io",name:"Clarke Gillebert",phone:"972-333-4106"},{id:Object(sa.a)(),address:{country:"USA",state:"California",city:"Bakerfield",street:"317 Angus Road"},avatarUrl:"/static/images/avatars/avatar_1.png",createdAt:15546708e5,email:"adam.denisov@devias.io",name:"Adam Denisov",phone:"858-602-3409"},{id:Object(sa.a)(),address:{country:"USA",state:"California",city:"Redondo Beach",street:"2188  Armbrester Drive"},avatarUrl:"/static/images/avatars/avatar_7.png",createdAt:15543252e5,email:"ava.gregoraci@devias.io",name:"Ava Gregoraci",phone:"415-907-2647"},{id:Object(sa.a)(),address:{country:"USA",state:"Nevada",city:"Las Vegas",street:"1798  Hickory Ridge Drive"},avatarUrl:"/static/images/avatars/avatar_8.png",createdAt:15230484e5,email:"emilee.simchenko@devias.io",name:"Emilee Simchenko",phone:"702-661-1654"},{id:Object(sa.a)(),address:{country:"USA",state:"Michigan",city:"Detroit",street:"3934  Wildrose Lane"},avatarUrl:"/static/images/avatars/avatar_9.png",createdAt:15547028e5,email:"kwak.seong.min@devias.io",name:"Kwak Seong-Min",phone:"313-812-8947"},{id:Object(sa.a)(),address:{country:"USA",state:"Utah",city:"Salt Lake City",street:"368 Lamberts Branch Road"},avatarUrl:"/static/images/avatars/avatar_10.png",createdAt:15227028e5,email:"merrile.burgett@devias.io",name:"Merrile Burgett",phone:"801-301-7894"}],ma=t(29),da=Object(r.createContext)(),pa="api/reporte/ventas",ba="api/reporte/historicofacturas",fa="api/reporte/historicofacturas-filter",ga="api/facturas/anulacion/nota-credito",Ea=function(e){var a=Object(r.useState)(!0),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),i=Object(h.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)({numeroFacturas:0,numeroCreditos:0,clientes:0,totalVentas:0,desglose:[]}),d=Object(h.a)(m,2),p=d[0],b=d[1];Object(r.useEffect)((function(){l&&(console.log("RELOAD ESTADISTICAS"),f(),v(),c(!1))}),[l]);var f=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(ba);case 2:a=e.sent,u(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post(ga,{idFactura:a});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post(fa,{filter:a});case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(pa);case 2:a=e.sent,b({numeroFacturas:a.data.NumeroFacturas,numeroCreditos:a.data.NumeroCreditos,stockBajo:a.data.productosStockBajo,clientes:a.data.clientes,totalVentas:a.data.totalVendido,desglose:a.data.desglose});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(da.Provider,{value:{isReload:l,setIsReload:c,reporte:p,historicofacturas:s,cargarHistoricoFacturasFilter:E,fn_anularFactura:g}},e.children))},ha=t(288),va=t(398),Oa=Object(u.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),ja="api/clientes",xa=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=Oa(),c=Object(r.useContext)(na),o=c.setIsNewClient,i=c.setClientes,s=c.clientes,u=c.setClientesFiltro,m=Object(r.useContext)(da).setIsReload,d=Object(r.useState)(""),p=Object(h.a)(d,2),b=p[0],f=p[1],g=Object(r.useState)(""),E=Object(h.a)(g,2),v=E[0],O=E[1],C=Object(r.useState)(""),w=Object(h.a)(C,2),N=w[0],S=w[1],k=Object(r.useState)(""),T=Object(h.a)(k,2),P=T[0],_=T[1],A=Object(r.useState)(""),F=Object(h.a)(A,2),B=F[0],R=F[1],D=Object(r.useState)(""),M=Object(h.a)(D,2),L=M[0],V=M[1],U=Object(r.useState)(!1),W=Object(h.a)(U,2),G=W[0],Y=W[1],H=function(){var e=Object(x.a)(j.a.mark((function e(){var a,t,r,n,l,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==b){e.next=3;break}return ea.a.error("La c\xe9dula es obligatoria",2),e.abrupt("return");case 3:if(""!==v){e.next=6;break}return ea.a.error("Los nombres son obligatorios",2),e.abrupt("return");case 6:return""===(a=N)&&(a="-"),""===(t=P)&&(t="-"),""===(r=B)&&(r="-"),""===(n=L)&&(n="-"),Y(!0),l={cedula:b,nombres:v,telefono:a,direccion:t,correo:r,observacion:n},e.next=15,y.post(ja,l);case 15:if(c=e.sent,Y(!1),201===c.data.estado){e.next=20;break}return ea.a.error(c.data.mensaje,2),e.abrupt("return");case 20:m(!0),f(""),O(""),S(""),_(""),R(""),V(""),i([c.data.cliente].concat(Object(ma.a)(s))),u([c.data.cliente].concat(Object(ma.a)(s))),o(!1);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",Object.assign({className:Object(z.a)(l.root,a)},t),n.a.createElement(I.a,{mt:3},n.a.createElement(je.a,null,n.a.createElement(xe.a,{className:l.root},n.a.createElement("h2",null," Nuevo cliente"),n.a.createElement(ha.a,{defaultValue:b,onChange:function(e){return f(e.target.value)},placeholder:"C\xe9dula",inputProps:{"aria-label":"C\xe9dula"}}),n.a.createElement(ha.a,{defaultValue:v,onChange:function(e){return O(e.target.value)},placeholder:"Nombres",inputProps:{"aria-label":"Nombres"}}),n.a.createElement(ha.a,{defaultValue:N,onChange:function(e){return S(e.target.value)},placeholder:"Tel\xe9fono",inputProps:{"aria-label":"Tel\xe9fono"}}),n.a.createElement("br",null),n.a.createElement(ha.a,{defaultValue:P,onChange:function(e){return _(e.target.value)},placeholder:"Direcci\xf3n",inputProps:{"aria-label":"Direcci\xf3n"}}),n.a.createElement(ha.a,{defaultValue:B,onChange:function(e){return R(e.target.value)},placeholder:"Correo",inputProps:{"aria-label":"Correo"}}),n.a.createElement(ha.a,{defaultValue:B,onChange:function(e){return V(e.target.value)},placeholder:"Observaci\xf3n",inputProps:{"aria-label":"Observaci\xf3n"}})),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end"},G?n.a.createElement(va.a,null):null,n.a.createElement($.a,{style:{backgroundColor:"rgb(220, 0, 78)",color:"white"},variant:"contained",onClick:function(){return o(!1)}},"Cancelar"),n.a.createElement($.a,{color:"primary",variant:"contained",onClick:H},"Guardar Cliente")))))},Ca=t(399),ya=t(148),wa=t(246),Na=[{field:"id",headerName:"ID",width:90,visible:!1},{field:"cedula",headerName:"C\xe9dula",width:130,editable:!0},{field:"nombres",headerName:"Nombres",width:300,editable:!0,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"correo",headerName:"Correo",width:250,editable:!0},{field:"telefono",headerName:"Tel\xe9fono",width:250,editable:!0},{field:"direccion",headerName:"Direcci\xf3n",width:400,editable:!0},{field:"observacion",headerName:"Observaci\xf3n",width:350,editable:!0}],Sa="api/clientes";function ka(e){Object(Ca.a)(e);var a=r.useState(!1),t=Object(h.a)(a,2),n=t[0],l=t[1],c=r.useContext(na),o=c.clientes,i=c.clientesFiltro,s=c.setClientes,u=c.setDeleteCliente,m=c.cargarClientes;r.useEffect((function(){m()}),[]);var d=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,y.patch(Sa+"/"+a.id,a);case 3:t=e.sent,l(!1),ea.a.success("Actualizado",2),console.log(t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.createElement(je.a,null,r.createElement("div",{style:{height:360,width:"100%"}},r.createElement(ya.a,{rows:i,columns:Na,datasets:"Commodity",checkboxSelection:!1,onEditCellChangeCommitted:function(e){if(e.id){var a=e.field,t=[],r=o.map((function(r){return r.id===e.id?("correo"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{correo:e.props.value})),"cedula"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{cedula:e.props.value})),"nombres"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{nombres:e.props.value})),"telefono"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{telefono:e.props.value})),"direccion"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{direccion:e.props.value})),"observacion"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{observacion:e.props.value})),d(t),t):r}));s(r)}},pageSize:10,disableSelectionOnClick:!1,rowHeight:23,onRowSelected:function(e){u(e.data)},loading:n})))}var Ia=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Ta=function(){var e=Object(r.useContext)(na),a=e.isNewClient,t=(e.clientes,e.clientesFiltro,e.setClientes,Ia()),l=Object(r.useState)(ua);Object(h.a)(l,1)[0];return n.a.createElement(he,{className:t.root,title:"Clientes"},n.a.createElement(fe.a,{maxWidth:!1},a?n.a.createElement(xa,null):n.a.createElement(ia,null),n.a.createElement(I.a,{mt:3},n.a.createElement(ka,null))))},Pa=t(405),_a=t.n(Pa),Aa=Object(u.a)((function(e){return{root:{height:"100%"},avatar:{backgroundColor:g.a.red[600],height:56,width:56},differenceIcon:{color:g.a.red[900]},differenceValue:{color:g.a.red[900],marginRight:e.spacing(1)}}})),Fa=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=Aa(),c=Object(r.useContext)(da).reporte;return n.a.createElement(je.a,Object.assign({className:Object(z.a)(l.root,a)},t),n.a.createElement(xe.a,null,n.a.createElement(ge.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(ge.a,{item:!0},n.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"Facturas del d\xeda"),n.a.createElement(P.a,{color:"textPrimary",variant:"h3"},c.numeroFacturas)),n.a.createElement(ge.a,{item:!0},n.a.createElement(T.a,{className:l.avatar},n.a.createElement(_a.a,null))))))},Ba=[{id:Object(sa.a)(),ref:"CDD1049",amount:30.5,customer:{name:"Ekaterina Tankova"},createdAt:15550164e5,status:"pending"},{id:Object(sa.a)(),ref:"CDD1048",amount:25.1,customer:{name:"Cao Yu"},createdAt:15550164e5,status:"delivered"},{id:Object(sa.a)(),ref:"CDD1047",amount:10.99,customer:{name:"Alexa Richardson"},createdAt:155493e7,status:"refunded"},{id:Object(sa.a)(),ref:"CDD1046",amount:96.43,customer:{name:"Anje Keizer"},createdAt:15547572e5,status:"pending"},{id:Object(sa.a)(),ref:"CDD1045",amount:32.54,customer:{name:"Clarke Gillebert"},createdAt:15546708e5,status:"delivered"},{id:Object(sa.a)(),ref:"CDD1044",amount:16.76,customer:{name:"Adam Denisov"},createdAt:15546708e5,status:"delivered"},{id:Object(sa.a)(),ref:"CDD1044",amount:16.76,customer:{name:"Adam Denisov"},createdAt:15546708e5,status:"delivered"},{id:Object(sa.a)(),ref:"CDD1044",amount:16.76,customer:{name:"Adam Denisov"},createdAt:15546708e5,status:"delivered"},{id:Object(sa.a)(),ref:"sss",amount:16.76,customer:{name:"Adam Denisov"},createdAt:15546708e5,status:"delivered"},{id:Object(sa.a)(),ref:"sssssss",amount:16.76,customer:{name:"Adam Denisov"},createdAt:15546708e5,status:"delivered"},{id:Object(sa.a)(),ref:"aaaasss",amount:16.76,customer:{name:"Adam Denisov"},createdAt:15546708e5,status:"delivered"}],Ra=Object(u.a)((function(){return{root:{},actions:{justifyContent:"flex-end"}}})),Da=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=Object(r.useContext)(da).reporte,c=Ra(),o=Object(r.useState)(Ba);Object(h.a)(o,1)[0];return n.a.createElement(je.a,Object.assign({className:Object(z.a)(c.root,a)},t),n.a.createElement(_e.a,{title:"Detalles de Ventas"}),n.a.createElement(_.a,null),n.a.createElement(Ve.a,null,n.a.createElement(I.a,{minWidth:400},n.a.createElement(Ue.a,null,n.a.createElement(We.a,null,n.a.createElement(qe.a,null,n.a.createElement(ze.a,null,"Incidencia"),n.a.createElement(ze.a,null,"Producto/Credito/Orden"),n.a.createElement(ze.a,null,"Detalle"),n.a.createElement(ze.a,null,"Valor"))),n.a.createElement(Ge.a,null,l.desglose.map((function(e){return n.a.createElement(qe.a,{hover:!0,key:e.id},n.a.createElement(ze.a,null,e.incidencia),n.a.createElement(ze.a,null,e.detalle),n.a.createElement(ze.a,null,e.precio_tipo),n.a.createElement(ze.a,null,"$ ",e.valor))})))))),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end",p:2}))},Ma=t(582),La=Object(u.a)({root:{height:"100%"},image:{height:48,width:48}}),Va=function(e){var a=e.className,t=Object(q.a)(e,["className"]),r=La();return n.a.createElement(je.a,Object.assign({className:Object(z.a)(r.root,a)},t),n.a.createElement(_e.a,{subtitle:"0 in total",title:"Productos con stock bajo"}),n.a.createElement(_.a,null),n.a.createElement(A.a,null,n.a.createElement(Ma.a,null)),n.a.createElement(_.a,null))};t(281),t(71),t(135);var Ua=t(583),Wa=t(584),qa=[{id:Object(sa.a)(),name:"Dropbox",imageUrl:"/static/images/products/product_1.png",updatedAt:Oe()().subtract(2,"hours")},{id:Object(sa.a)(),name:"Medium Corporation",imageUrl:"/static/images/products/product_2.png",updatedAt:Oe()().subtract(2,"hours")},{id:Object(sa.a)(),name:"Slack",imageUrl:"/static/images/products/product_3.png",updatedAt:Oe()().subtract(3,"hours")},{id:Object(sa.a)(),name:"Lyft",imageUrl:"/static/images/products/product_4.png",updatedAt:Oe()().subtract(5,"hours")},{id:Object(sa.a)(),name:"GitHub",imageUrl:"/static/images/products/product_5.png",updatedAt:Oe()().subtract(9,"hours")}],za=Object(u.a)({root:{height:"100%"},image:{height:48,width:48}}),Ga=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=za(),c=Object(r.useState)(qa),o=Object(h.a)(c,1)[0],i=Object(r.useContext)(da).reporte;return void 0===i.stockBajo?n.a.createElement(Va,null):n.a.createElement(je.a,Object.assign({className:Object(z.a)(l.root,a)},t),n.a.createElement(_e.a,{subtitle:"".concat(o.length," in total"),title:"Productos con stock bajo"}),n.a.createElement(_.a,null),n.a.createElement(A.a,null,i.stockBajo.map((function(e,a){return n.a.createElement(G.a,{divider:a<i.stockBajo.length-1,key:e.id},n.a.createElement(Ua.a,null,n.a.createElement(T.a,{title:"Stock"},e.stock)),n.a.createElement(Wa.a,{primary:e.nombre,secondary:"Stock: ".concat(e.stock)}),n.a.createElement(ee.a,{edge:"end",size:"small"}))}))),n.a.createElement(_.a,null),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end",p:2}))},$a=(t(23),t(406),t(213),Object(u.a)((function(){return{root:{}}})),t(407)),Ya=t.n($a),Ha=Object(u.a)((function(){return{root:{height:"100%"},avatar:{backgroundColor:g.a.orange[600],height:56,width:56}}})),Ka=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=Object(r.useContext)(da).reporte,c=Ha();return n.a.createElement(je.a,Object.assign({className:Object(z.a)(c.root,a)},t),n.a.createElement(xe.a,null,n.a.createElement(ge.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(ge.a,{item:!0},n.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"CRDT. PENDIENTES"),n.a.createElement(P.a,{color:"textPrimary",variant:"h3"},l.numeroCreditos," cr\xe9dito/s")),n.a.createElement(ge.a,{item:!0},n.a.createElement(T.a,{className:c.avatar},n.a.createElement(Ya.a,null)))),n.a.createElement(I.a,{mt:3})))},Xa=t(408),Ja=t.n(Xa),Qa=Object(u.a)((function(e){return{root:{height:"100%"},avatar:{backgroundColor:g.a.green[600],height:56,width:56},differenceIcon:{color:g.a.green[900]},differenceValue:{color:g.a.green[900],marginRight:e.spacing(1)}}})),Za=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=Qa(),c=Object(r.useContext)(da).reporte;return n.a.createElement(je.a,Object.assign({className:Object(z.a)(l.root,a)},t),n.a.createElement(xe.a,null,n.a.createElement(ge.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(ge.a,{item:!0},n.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"TOTAL CLIENTES"),n.a.createElement(P.a,{color:"textPrimary",variant:"h3"},c.clientes)),n.a.createElement(ge.a,{item:!0},n.a.createElement(T.a,{className:l.avatar},n.a.createElement(Ja.a,null)))),"Clientes Registrados"))},et=t(409),at=t.n(et),tt=Object(u.a)((function(){return{root:{height:"100%"},avatar:{backgroundColor:g.a.indigo[600],height:56,width:56}}})),rt=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=tt(),c=Object(r.useContext)(da).reporte;return n.a.createElement(je.a,Object.assign({className:Object(z.a)(l.root,a)},t),n.a.createElement(xe.a,null,n.a.createElement(ge.a,{container:!0,justify:"space-between",spacing:3},n.a.createElement(ge.a,{item:!0},n.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0,variant:"h6"},"VENTAS DEL D\xcdA"),n.a.createElement(P.a,{color:"textPrimary",variant:"h3"},"$ ",c.totalVentas)),n.a.createElement(ge.a,{item:!0},n.a.createElement(T.a,{className:l.avatar},n.a.createElement(at.a,null))))))},nt=(t(410),t(412),t(411),Object(u.a)((function(){return{root:{height:"100%"}}})),Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}}))),lt=function(){var e=nt();return n.a.createElement(he,{className:e.root,title:"Dashboard"},n.a.createElement(fe.a,{maxWidth:!1},n.a.createElement(ge.a,{container:!0,spacing:3},n.a.createElement(ge.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(Fa,null)),n.a.createElement(ge.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(Za,null)),n.a.createElement(ge.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(Ka,null)),n.a.createElement(ge.a,{item:!0,lg:3,sm:6,xl:3,xs:12},n.a.createElement(rt,null)),n.a.createElement(ge.a,{item:!0,lg:8,md:12,xl:9,xs:12}),n.a.createElement(ge.a,{item:!0,lg:4,md:6,xl:3,xs:12}),n.a.createElement(ge.a,{item:!0,lg:4,md:6,xl:3,xs:12},n.a.createElement(Ga,null)),n.a.createElement(ge.a,{item:!0,lg:8,md:12,xl:9,xs:12},n.a.createElement(Da,null)))))},ct=t(105),ot=t(237),it=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),st=function(){var e=it(),a=Object(i.g)(),t=Object(r.useContext)(w),l=(t.credenciales,t.setCredenciales),c=t.login,o=t.setUserloggin,s=function(){var e=Object(x.a)(j.a.mark((function e(t,r){var n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={user:t.email,pass:t.password},e.next=3,c(n);case 3:if(1===(i=e.sent).login){e.next=7;break}return ea.a.error("Credenciales incorrectas",2),e.abrupt("return");case 7:o({avatar:"/static/images/avatars/avatar_6.png",jobTitle:i.tipo,name:i.nombres}),localStorage.setItem("user_id",i.user_id),localStorage.setItem("nombres",i.nombres),localStorage.setItem("tipo_usuario",i.tipo),localStorage.setItem("tipousuario_id",i.tipousuario_id),l(i),"ADMINISTRADOR"===i.tipo?a("/app/dashboard",{replace:!0}):a("/app",{replace:!0});case 14:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){localStorage.removeItem("user_id"),localStorage.removeItem("tipo_usuario"),localStorage.removeItem("nombres"),localStorage.removeItem("tipousuario_id")}),[]),n.a.createElement(he,{className:e.root,title:"Login"},n.a.createElement(I.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},n.a.createElement(fe.a,{maxWidth:"sm"},n.a.createElement(ot.a,{initialValues:{email:"",password:""},onSubmit:function(e,a){s(e,a)}},(function(e){var a=e.errors,t=e.handleBlur,r=e.handleChange,l=e.handleSubmit,c=(e.isSubmitting,e.touched),o=e.values;return n.a.createElement("form",{onSubmit:l},n.a.createElement(I.a,{mb:3},n.a.createElement(P.a,{color:"textPrimary",variant:"h2"},"Iniciar Sesi\xf3n"),n.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Indentifique")),n.a.createElement(Ae.a,{error:Boolean(c.email&&a.email),fullWidth:!0,helperText:c.email&&a.email,label:"Usuario",margin:"normal",name:"email",onChange:r,type:"text",value:o.email,variant:"outlined"}),n.a.createElement(Ae.a,{error:Boolean(c.password&&a.password),fullWidth:!0,helperText:c.password&&a.password,label:"Password",margin:"normal",name:"password",onBlur:t,onChange:r,type:"password",value:o.password,variant:"outlined"}),n.a.createElement(I.a,{my:2},n.a.createElement($.a,{color:"primary",fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Iniciar sesi\xf3n")))})))))},ut=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),mt=function(){var e=ut();return n.a.createElement(he,{className:e.root,title:"404"},n.a.createElement(I.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},n.a.createElement(fe.a,{maxWidth:"md"},n.a.createElement(P.a,{align:"center",color:"textPrimary",variant:"h1"},"404: The page you are looking for isn\u2019t here"),n.a.createElement(P.a,{align:"center",color:"textPrimary",variant:"subtitle2"},"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"),n.a.createElement(I.a,{textAlign:"center"},n.a.createElement("img",{alt:"Under development",className:e.image,src:"/static/images/undraw_page_not_found_su7k.svg"})))))},dt=(t(282),t(283)),pt=Object(u.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"}}}));function bt(e){var a=e.inputRef,t=e.onChange,r=Object(q.a)(e,["inputRef","onChange"]);return n.a.createElement(dt.a,Object.assign({},r,{getInputRef:a,onValueChange:function(a){t({target:{name:e.name,value:a.value}})},thousandSeparator:!0,isNumericString:!0,prefix:"$"}))}function ft(e){var a=e.label,t=e.helperText,r=e.onChangeText,l=(e.value,pt()),c=n.a.useState({textmask:"(1\u2000\u2000) \u2000\u2000\u2000-\u2000\u2000\u2000\u2000",numberformat:"0"}),o=Object(h.a)(c,2),i=o[0],s=o[1];return n.a.createElement(Ae.a,{label:a,value:i.numberformat,className:l.textField,onChange:function(e){r(e.target.value),s(Object(Pe.a)(Object(Pe.a)({},i),{},Object(v.a)({},e.target.name,e.target.value)))},margin:"dense",name:"numberformat",id:"formatted-numberformat-input",helperText:t,InputProps:{inputComponent:bt}})}var gt="api/productos/buscarProducto",Et="api/productos/listado/1000000000000",ht="api/productos",vt="api/productos",Ot=Object(r.createContext)(),jt=function(e){var a=Object(r.useState)([]),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),i=Object(h.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)(!1),d=Object(h.a)(m,2),p=d[0],b=d[1],f=Object(r.useState)(!0),g=Object(h.a)(f,2),E=(g[0],g[1]),v=Object(r.useState)(0),O=Object(h.a)(v,2),C=O[0],w=O[1],N=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""!==a&&(a="/".concat(a)),e.next=3,y.get(gt+a);case 3:t=e.sent,c(t.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(Et);case 2:a=e.sent,c(a.data),u(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post(ht,a);case 2:return t=e.sent,e.next=5,S();case 5:console.log(t);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete(vt+"/"+C.id);case 2:if(200===(a=e.sent).data.estado){e.next=6;break}return ea.a.error(a.data.mensaje,2),e.abrupt("return");case 6:ea.a.success(a.data.mensaje,2),S();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){S()}),[]),n.a.createElement(Ot.Provider,{value:{productos:l,setProductos:c,productosTemp:s,setProductosTemp:u,buscarProductos:N,setReload:E,guardarProducto:k,isNew:p,setIsNew:b,eliminarProducto:I,deleteProducto:C,setDeleteProducto:w,ObtenerProductos:S}},e.children)},xt=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField1:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"36ch"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},btn:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}));function Ct(){var e=xt(),a=Object(r.useContext)(Ot),t=a.guardarProducto,l=a.setIsNew,c=Object(r.useState)(""),o=Object(h.a)(c,2),i=o[0],s=o[1],u=Object(r.useState)(""),m=Object(h.a)(u,2),d=m[0],p=m[1],b=Object(r.useState)(""),f=Object(h.a)(b,2),g=f[0],E=f[1],v=Object(r.useState)(""),O=Object(h.a)(v,2),C=O[0],y=O[1],w=Object(r.useState)(""),N=Object(h.a)(w,2),S=N[0],k=N[1],T=Object(r.useState)(""),P=Object(h.a)(T,2),_=P[0],A=P[1],F=Object(r.useState)(""),B=Object(h.a)(F,2),R=B[0],D=B[1],M=Object(r.useState)(0),L=Object(h.a)(M,2),V=L[0],U=L[1],W=function(){var e=Object(x.a)(j.a.mark((function e(){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==i){e.next=3;break}return ea.a.error("Falta el nombre del prodcuto",2),e.abrupt("return");case 3:if(""!==_&&0!==+_){e.next=6;break}return ea.a.error("El precio de compra no puede ser vac\xedo o 0",2),e.abrupt("return");case 6:if(""!==C&&0!==+C){e.next=9;break}return ea.a.error("El precio p\xfablico no puede ser vac\xedo o 0",2),e.abrupt("return");case 9:if(""!==S&&0!==+S){e.next=12;break}return ea.a.error("El precio T\xe9cnico no puede ser vac\xedo o 0",2),e.abrupt("return");case 12:if(""!==R&&0!==+R){e.next=15;break}return ea.a.error("El precio Mayorista no puede ser vac\xedo o 0",2),e.abrupt("return");case 15:if(""!==V&&0!==+V){e.next=18;break}return ea.a.error("El Stock no puede ser vac\xedo o 0",2),e.abrupt("return");case 18:""===(a=d)&&(a="-"),""===(r=g)&&(r="-"),t({nombre:i,descripcion:a,codigo_barra:r,precio_publico:C,precio_tecnico:S,precio_compra:_,precio_distribuidor:R,stock:V}),l(!1);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:e.root},n.a.createElement("div",null,n.a.createElement(Ae.a,{label:"Nombre producto",id:"margin-none",defaultValue:"",onChange:function(e){return s(e.target.value)},className:e.textField1,helperText:"Describa un nombre para el producto"}),n.a.createElement(Ae.a,{id:"standard-full-width",onChange:function(e){return p(e.target.value)},label:"Descripci\xf3n",style:{margin:8,width:"90%"},placeholder:"",multiline:!0,helperText:"Describa una descripci\xf3n breve del producto",margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(ft,{label:"P. Compra",helperText:"Precio al que se adquiri\xf3 el producto",onChangeText:A}),n.a.createElement(ft,{label:"P. P\xfablico",helperText:"Precio al que se vender\xe1 al p\xfablico.",onChangeText:y}),n.a.createElement(ft,{label:"P. T\xe9cnico",helperText:"Precio para los t\xe9cnicos del local.",onChangeText:k}),n.a.createElement(ft,{label:"P. Mayorista",helperText:"Precio para ventas al mayoreo",onChangeText:D})),n.a.createElement("div",null,n.a.createElement(Ae.a,{id:"filled-full-width",label:"C\xf3digo de barras |||",style:{margin:4,width:"425px"},placeholder:"",helperText:"C\xf3digo de barra que identificar\xe1 el producto al facturar",fullWidth:!0,margin:"normal",onChange:function(e){return E(e.target.value)},InputLabelProps:{shrink:!0},variant:"filled"}),n.a.createElement(Ae.a,{label:"Stock",id:"margin-none",defaultValue:"",type:"number",onChange:function(e){return U(e.target.value)},className:e.textField,helperText:"Cantidad de productos disponibles"})),n.a.createElement("div",null)),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end"},n.a.createElement($.a,{variant:"contained",className:e.btn,onClick:function(){l(!1)}},"Cancelar"),n.a.createElement($.a,{color:"primary",variant:"contained",onClick:W},"Guardar")))}var yt=Object(u.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),wt=function(e){var a=e.filrarProductos;return n.a.createElement(xe.a,null,n.a.createElement(I.a,{maxWidth:500},n.a.createElement(Ae.a,{fullWidth:!0,onChange:a,InputProps:{startAdornment:n.a.createElement(Je.a,{position:"start"},n.a.createElement(Qe.a,{fontSize:"small",color:"action"},n.a.createElement(ca.a,null)))},placeholder:"Buscar producto",variant:"outlined"})))},Nt=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=yt(),c=Object(r.useContext)(Ot),o=c.setProductosTemp,i=c.productos,s=c.isNew,u=c.setIsNew,m=c.eliminarProducto,d=c.deleteProducto;return n.a.createElement("div",Object.assign({className:Object(z.a)(l.root,a)},t),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end"},s?null:n.a.createElement($.a,{variant:"contained",style:{backgroundColor:"rgb(154, 0, 54)"},color:"secondary",className:l.exportButton,startIcon:n.a.createElement(He.a,null),onClick:function(){void 0!==(null===d||void 0===d?void 0:d.id)&&Xe.a.fire({title:"\xbfEst\xe1 seguro de eliminar el producto?",showDenyButton:!0,confirmButtonText:"si, eliminar",denyButtonText:"Cancelar"}).then(function(){var e=Object(x.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.isConfirmed&&m();case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},"Eliminar"),s?null:n.a.createElement($.a,{color:"primary",variant:"contained",onClick:function(){u(!0)}},"Nuevo Producto")),n.a.createElement(I.a,{mt:3},n.a.createElement(je.a,null,s?n.a.createElement(Ct,null):n.a.createElement(wt,{filrarProductos:function(e){console.log(e.target.value),console.log(i);var a=i.filter((function(a){var t=a.nombre.toUpperCase(),r=e.target.value.toUpperCase(),n=null===a.codigo_barra?"":a.codigo_barra.toUpperCase(),l=e.target.value.toUpperCase();return t.indexOf(r)>-1||n.indexOf(l)>-1}));console.log(a),o(a)}}))))},St=(t(234),t(235),Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column"},statsItem:{alignItems:"center",display:"flex"},statsIcon:{marginRight:e.spacing(1)}}})),[{field:"id",headerName:"ID",width:90,visible:!1},{field:"stock",headerName:"Stock",width:115,editable:!0},{field:"nombre",headerName:"Nombre",width:420,editable:!0,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"precio_publico",headerName:"P. P\xfablico",width:140,editable:!0},{field:"precio_tecnico",headerName:"P. T\xe9cnico",width:160,editable:!0},{field:"precio_distribuidor",headerName:"P. Mayorista",width:170,editable:!0},{field:"precio_compra",headerName:"P. compra",width:140,editable:!0},{field:"codigo_barra",headerName:"Cod. Barra",width:315,editable:!0},{field:"descripcion",headerName:"Descripci\xf3n",width:200,editable:!0,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}}]),kt="api/productos";function It(){var e=r.useState(!1),a=Object(h.a)(e,2),t=a[0],n=a[1],l=r.useState([{mycae:"1"}]),c=Object(h.a)(l,2),o=(c[0],c[1],r.useContext(Ot)),i=o.productos,s=o.productosTemp,u=o.setProductos,m=(o.setReload,o.setProductosTemp),d=o.setDeleteProducto,p=o.ObtenerProductos;r.useEffect((function(){return p(),function(){i.length>0&&m(i)}}),[]);var b=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,y.patch(kt+"/"+a.id,a);case 3:t=e.sent,n(!1),ea.a.success("Actualizado",2),console.log(t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.createElement(je.a,null,r.createElement("div",{style:{height:360,width:"100%"}},r.createElement(ya.a,{rows:s,columns:St,checkboxSelection:!1,datasets:"Commodity",onEditCellChangeCommitted:function(e){var a=e.field,t=[],r=i.map((function(r){return r.id===e.id?("nombre"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{nombre:e.props.value})),"descripcion"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{descripcion:e.props.value})),"precio_publico"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{precio_publico:e.props.value})),"precio_tecnico"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{precio_tecnico:e.props.value})),"precio_compra"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{precio_compra:e.props.value})),"precio_distribuidor"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{precio_distribuidor:e.props.value})),"stock"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{stock:e.props.value})),"codigo_barra"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{codigo_barra:e.props.value})),b(t),t):r}));u(r)},pageSize:10,disableSelectionOnClick:!1,rowHeight:23,onRowSelected:function(e){d(e.data)},loading:t})))}var Tt=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},productCard:{height:"100%"}}})),Pt=function(){var e=Tt();Object(r.useContext)(Ot).productos;return n.a.createElement(he,{className:e.root,title:"Clientes"},n.a.createElement(fe.a,{maxWidth:!1},n.a.createElement(Nt,null),n.a.createElement(I.a,{mt:3},n.a.createElement(It,null))))},_t=t(586),At=t(397),Ft=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Bt=function(){var e=Ft(),a=Object(i.g)();return n.a.createElement(he,{className:e.root,title:"Register"},n.a.createElement(I.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},n.a.createElement(fe.a,{maxWidth:"sm"},n.a.createElement(ot.a,{initialValues:{email:"",firstName:"",lastName:"",password:"",policy:!1},validationSchema:ct.b().shape({email:ct.c().email("Must be a valid email").max(255).required("Email is required"),firstName:ct.c().max(255).required("First name is required"),lastName:ct.c().max(255).required("Last name is required"),password:ct.c().max(255).required("password is required"),policy:ct.a().oneOf([!0],"This field must be checked")}),onSubmit:function(){a("/app/dashboard",{replace:!0})}},(function(e){var a=e.errors,t=e.handleBlur,r=e.handleChange,l=e.handleSubmit,c=e.isSubmitting,i=e.touched,s=e.values;return n.a.createElement("form",{onSubmit:l},n.a.createElement(I.a,{mb:3},n.a.createElement(P.a,{color:"textPrimary",variant:"h2"},"Create new account"),n.a.createElement(P.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use your email to create new account")),n.a.createElement(Ae.a,{error:Boolean(i.firstName&&a.firstName),fullWidth:!0,helperText:i.firstName&&a.firstName,label:"First name",margin:"normal",name:"firstName",onBlur:t,onChange:r,value:s.firstName,variant:"outlined"}),n.a.createElement(Ae.a,{error:Boolean(i.lastName&&a.lastName),fullWidth:!0,helperText:i.lastName&&a.lastName,label:"Last name",margin:"normal",name:"lastName",onBlur:t,onChange:r,value:s.lastName,variant:"outlined"}),n.a.createElement(Ae.a,{error:Boolean(i.email&&a.email),fullWidth:!0,helperText:i.email&&a.email,label:"Email Address",margin:"normal",name:"email",onBlur:t,onChange:r,type:"email",value:s.email,variant:"outlined"}),n.a.createElement(Ae.a,{error:Boolean(i.password&&a.password),fullWidth:!0,helperText:i.password&&a.password,label:"Password",margin:"normal",name:"password",onBlur:t,onChange:r,type:"password",value:s.password,variant:"outlined"}),n.a.createElement(I.a,{alignItems:"center",display:"flex",ml:-1},n.a.createElement($e.a,{checked:s.policy,name:"policy",onChange:r}),n.a.createElement(P.a,{color:"textSecondary",variant:"body1"},"I have read the"," ",n.a.createElement(_t.a,{color:"primary",component:o.b,to:"#",underline:"always",variant:"h6"},"Terms and Conditions"))),Boolean(i.policy&&a.policy)&&n.a.createElement(At.a,{error:!0},a.policy),n.a.createElement(I.a,{my:2},n.a.createElement($.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign up now")),n.a.createElement(P.a,{color:"textSecondary",variant:"body1"},"Have an account?"," ",n.a.createElement(_t.a,{component:o.b,to:"/login",variant:"h6"},"Sign in")))})))))},Rt=t(402),Dt=Object(u.a)({root:{},item:{display:"flex",flexDirection:"column"}}),Mt=function(e){var a=e.className,t=Object(q.a)(e,["className"]),r=Dt();return n.a.createElement("form",Object.assign({className:Object(z.a)(r.root,a)},t),n.a.createElement(je.a,null,n.a.createElement(_e.a,{subheader:"Manage the notifications",title:"Notifications"}),n.a.createElement(_.a,null),n.a.createElement(xe.a,null,n.a.createElement(ge.a,{container:!0,spacing:6,wrap:"wrap"},n.a.createElement(ge.a,{className:r.item,item:!0,md:4,sm:6,xs:12},n.a.createElement(P.a,{color:"textPrimary",gutterBottom:!0,variant:"h6"},"Notifications"),n.a.createElement(Rt.a,{control:n.a.createElement($e.a,{defaultChecked:!0}),label:"Email"}),n.a.createElement(Rt.a,{control:n.a.createElement($e.a,{defaultChecked:!0}),label:"Push Notifications"}),n.a.createElement(Rt.a,{control:n.a.createElement($e.a,null),label:"Text Messages"}),n.a.createElement(Rt.a,{control:n.a.createElement($e.a,{defaultChecked:!0}),label:"Phone calls"})),n.a.createElement(ge.a,{className:r.item,item:!0,md:4,sm:6,xs:12},n.a.createElement(P.a,{color:"textPrimary",gutterBottom:!0,variant:"h6"},"Messages"),n.a.createElement(Rt.a,{control:n.a.createElement($e.a,{defaultChecked:!0}),label:"Email"}),n.a.createElement(Rt.a,{control:n.a.createElement($e.a,null),label:"Push Notifications"}),n.a.createElement(Rt.a,{control:n.a.createElement($e.a,{defaultChecked:!0}),label:"Phone calls"})))),n.a.createElement(_.a,null),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end",p:2},n.a.createElement($.a,{color:"primary",variant:"contained"},"Save"))))},Lt=Object(u.a)({root:{}}),Vt=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=Lt(),c=Object(r.useState)({password:"",confirm:""}),o=Object(h.a)(c,2),i=o[0],s=o[1],u=function(e){s(Object(Pe.a)(Object(Pe.a)({},i),{},Object(v.a)({},e.target.name,e.target.value)))};return n.a.createElement("form",Object.assign({className:Object(z.a)(l.root,a)},t),n.a.createElement(je.a,null,n.a.createElement(_e.a,{subheader:"Update password",title:"Password"}),n.a.createElement(_.a,null),n.a.createElement(xe.a,null,n.a.createElement(Ae.a,{fullWidth:!0,label:"Password",margin:"normal",name:"password",onChange:u,type:"password",value:i.password,variant:"outlined"}),n.a.createElement(Ae.a,{fullWidth:!0,label:"Confirm password",margin:"normal",name:"confirm",onChange:u,type:"password",value:i.confirm,variant:"outlined"})),n.a.createElement(_.a,null),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end",p:2},n.a.createElement($.a,{color:"primary",variant:"contained"},"Update"))))},Ut=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Wt=function(){var e=Ut();return n.a.createElement(he,{className:e.root,title:"Settings"},n.a.createElement(fe.a,{maxWidth:"lg"},n.a.createElement(Mt,null),n.a.createElement(I.a,{mt:3},n.a.createElement(Vt,null))))},qt=t(107),zt="api/creditos/abonar",Gt="api/creditos/lista/listado",$t=Object(r.createContext)(),Yt=function(e){var a=Object(r.useState)(!1),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)(!1),i=Object(h.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)([]),d=Object(h.a)(m,2),p=d[0],b=d[1],f=Object(r.useState)([]),g=Object(h.a)(f,2),E=g[0],v=g[1],O=Object(r.useState)(!0),C=Object(h.a)(O,2),w=C[0],N=C[1],S=Object(r.useState)(!1),k=Object(h.a)(S,2),I=k[0],T=k[1],P=Object(r.useContext)(da).setIsReload,_=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,y.post(zt,{credito_id:p.id,abono:a});case 3:t=e.sent,P(!0),N(!0),T(!0),u(!1),c(!1),console.log(t.data);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(Gt);case 2:a=e.sent,v(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){w&&(console.log("RECARGAR ---------\x3e CREDITPS"),N(!1),A())}),[w]),n.a.createElement($t.Provider,{value:{setRecargarListaCreditos:N,recargarListaCreditos:w,creditos:E,isOpenModalAbono:l,SetIsOpenModalAbono:c,currentCredito:p,setCurrentCredito:b,guardarAbono:_,isLoading:s,setIsLoading:u,recargarFiltro:I,setRecargarFiltro:T}},e.children)},Ht=t(84),Kt=t(180),Xt=Object(r.createContext)(),Jt="api/creditos",Qt="api/facturas",Zt=function(e){var a=Object(r.useState)(-1),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)("-"),i=Object(h.a)(o,2),s=i[0],u=i[1],m=Object(r.useContext)(na),d=m.currentCliente,p=(m.setCurrentCliente,Object(r.useContext)($t).setRecargarListaCreditos),b=Object(r.useContext)(Ot),f=b.productos,g=b.setProductos,E=(b.productosTemp,b.setProductosTemp),v=Object(r.useContext)(da).setIsReload,O=Object(r.useState)(""),C=Object(h.a)(O,2),w=C[0],N=C[1],S=Object(r.useState)([]),k=Object(h.a)(S,2),I=k[0],T=k[1],P=Object(r.useState)(!1),_=Object(h.a)(P,2),A=_[0],F=_[1],B=Object(r.useState)({subtotal:0,iva:0,total:0}),R=Object(h.a)(B,2),D=R[0],M=R[1],L=Object(r.useState)("publico"),V=Object(h.a)(L,2),U=V[0],W=V[1],q=0,z=function(e){return Math.round(100*e)/100},G=function(e){return z(e-.12*e)},$=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.next=3,f.map((function(e){e.id==a.id&&0===e.stock&&(t=!1)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(x.a)(j.a.mark((function e(a){var t,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r=[],n=f.map((function(e){return e.id==a.id?(t=Object(Pe.a)(Object(Pe.a)({},e),{},{stock:e.stock-1}),r=Object(Pe.a)(Object(Pe.a)({},e),{},{stock:e.stock-1})):t=Object(Pe.a)(Object(Pe.a)({},e),{},{stock:e.stock}),t})),g(n),E(n),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),H=function(){var e=Object(x.a)(j.a.mark((function e(a){var t,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r=[],n=f.map((function(e){return e.id==a.id?(t=Object(Pe.a)(Object(Pe.a)({},e),{},{stock:e.stock+1}),r=Object(Pe.a)(Object(Pe.a)({},e),{},{stock:e.stock+1})):t=Object(Pe.a)(Object(Pe.a)({},e),{},{stock:e.stock}),t})),g(n),E(n),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),K=function(){var e=Object(x.a)(j.a.mark((function e(a){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(+a.stock<=0)){e.next=3;break}return ea.a.error("El producto no tiene Stock",2),e.abrupt("return");case 3:return"publico"===U&&(q=1*a.precio_publico),"tecnico"===U&&(q=1*a.precio_tecnico),"mayorista"===U&&(q=1*a.precio_distribuidor),t={cantidad:1,id:a.id,nombre:a.nombre,precio_publico:a.precio_publico,precio_tecnico:a.precio_tecnico,precio_distribuidor:a.precio_distribuidor,total:G(q),totalBruto:q,tipoPrecio:U,stock:a.stock},e.next=9,Y(t);case 9:return e.sent,r=!1,console.log("a\xf1adir",t),e.next=14,I.map((function(e){e.id===t.id&&e.tipoPrecio===t.tipoPrecio&&(r=!0,console.log("Existe"))}));case 14:r?(Q(t),ee(I)):(console.log("Se a\xf1adio",t),T([].concat(Object(ma.a)(I),[t])),ee(I));case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),X=function(){var e=Object(x.a)(j.a.mark((function e(a){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],t=[],r=f.map((function(e){return e.id==a.id?Object(Pe.a)(Object(Pe.a)({},e),{},{stock:a.stock}):Object(Pe.a)(Object(Pe.a)({},e),{},{stock:e.stock})})),g(r),E(r),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(a),t=I.filter((function(e){return!(e.id===a.id&&e.tipoPrecio===a.tipoPrecio)})),T(t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(x.a)(j.a.mark((function e(a){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(a);case 2:if(e.sent){e.next=6;break}return ea.a.error("Ya no quedan mas unidades para este producto.",2),e.abrupt("return");case 6:return e.next=8,Y(a);case 8:e.sent,t=0,r=I.map((function(e){return e.id===a.id&&e.tipoPrecio===a.tipoPrecio?("publico"===e.tipoPrecio&&(t=e.precio_publico),"tecnico"===e.tipoPrecio&&(t=e.precio_tecnico),"mayorista"===e.tipoPrecio&&(t=e.precio_distribuidor),Object(Pe.a)(Object(Pe.a)({},e),{},{cantidad:e.cantidad+1,total:G(Math.round((e.cantidad+1)*t*100)/100),totalBruto:Math.round((e.cantidad+1)*t*100)/100})):e})),T(r);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=I.map((function(e){return e.id===a.id&&e.tipoPrecio===a.tipoPrecio&&e.cantidad>1?(H(a),"publico"===e.tipoPrecio&&(q=e.precio_publico),"tecnico"===e.tipoPrecio&&(q=e.precio_tecnico),"mayorista"===e.tipoPrecio&&(q=e.precio_distribuidor),Object(Pe.a)(Object(Pe.a)({},e),{},{cantidad:e.cantidad-1,total:G(Math.round((e.cantidad-1)*q*100)/100),totalBruto:Math.round((e.cantidad-1)*q*100)/100})):e})),T(t);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(x.a)(j.a.mark((function e(){var a,t,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("calcularTotalesFactura",I),a=0,t=0,r=0,n=0,e.next=7,I.map((function(e){a+=e.total,n+=e.totalBruto}));case 7:t=Math.round(.12*n*100)/100,r=Math.round(100*(a+t))/100,M({subtotal:z(a),iva:t,total:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(x.a)(j.a.mark((function e(){var a,t,r,n,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date,t=Ht.a.format(a,"YYYY-MM-DD"),r=[],n={cabecera:{cliente_id:d.id,fecha:t,detalle:""===w?"CREDITO":w,saldo:D.total,total:D.total},detalle:r},e.next=6,y.post(Jt,n);case 6:return l=e.sent,e.abrupt("return",l.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(x.a)(j.a.mark((function e(){var a,t,r,n,l,o,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(I.length<1)){e.next=2;break}return e.abrupt("return",{status:500,mensaje:"No ha seleccionado productos a\xfan."});case 2:if(""!==d.cedula){e.next=4;break}return e.abrupt("return",{status:500,mensaje:"Seleccione un cliente"});case 4:if(a="Factura Guardada",t=-1,!A){e.next=11;break}return e.next=9,ae();case 9:200===(r=e.sent).estado?(t=r.credito.id,a="Factura Guardada como Cr\xe9dito"):a="Error al guardar el credito.";case 11:return n=I.map((function(e){return{producto_id:e.id,cantidad:e.cantidad,subtotal:e.totalBruto,precio_tipo:e.tipoPrecio}})),l=new Date,o=Ht.a.format(l,"YYYY-MM-DD"),i={cabecera:{cliente_id:d.id,fecha:o,subtotal:D.subtotal,iva:D.iva,total:D.total,observacion:w,es_credito:A,credito_id:t,estado:A?"credito":"cerrada"},detalle:Object(ma.a)(n)},e.next=17,y.post(Qt,i);case 17:if(200===(s=e.sent).data.estado){e.next=20;break}return e.abrupt("return",{status:500,mensaje:"Ocurri\xf3 un error en el servidor."});case 20:return c(s.data.factura.id),u(s.data.factura.fecha),v(!0),A&&p(!0),e.abrupt("return",{status:200,mensaje:a});case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){ee()}),[I]),n.a.createElement(n.a.Fragment,null,n.a.createElement(Xt.Provider,{value:{productosFactura:I,setProductosFactura:T,agregarProductoFactura:K,sumarStockProductoFactura:Q,restarStockProductoFactura:Z,eliminarProductoFactura:J,totales:D,setObservacion:N,observacion:w,guardarFactura:te,currentPrecio:U,setCurrentPrecio:W,credito:A,setCredito:F,factura_id:l,setFactura_id:c,fechaFactura:s}},e.children))},er=t(675),ar=function(e){var a=e.ancho,t=void 0===a?300:a,l=e.concatenarCedula,c=void 0!==l&&l,o=e.defaultCliete,i=void 0===o?void 0:o,s=e.selectInactive,u=void 0!==s&&s,m=Object(r.useContext)(na),d=m.clientes,p=m.currentCliente,b=m.setCurrentCliente,f=(m.cargarClientes,function(e,a){return e?""===a.cedula?"":"CI: "+a.cedula+" - "+a.nombres:a.nombres});return void 0===i?n.a.createElement(n.a.Fragment,null,n.a.createElement(er.a,{id:"debug",value:p,disabled:u,options:d,debug:!0,onChange:function(e,a){console.log(a),null!==a&&b(a)},getOptionLabel:function(e){return f(c,e)},style:{width:300},renderInput:function(e){return n.a.createElement(Ae.a,Object.assign({},e,{style:{width:t},label:"Seleccione Cliente",variant:"outlined"}))}})):n.a.createElement(n.a.Fragment,null,n.a.createElement(er.a,{id:"debug",disabled:u,options:d,value:i,debug:!0,defaultValue:void 0===i?null:i,onChange:function(e,a){console.log(a),null!==a&&b(a)},getOptionLabel:function(e){return f(c,e)},style:{width:300},renderInput:function(e){return n.a.createElement(Ae.a,Object.assign({},e,{style:{width:t},label:"Seleccione Cliente",variant:"outlined"}))}}))},tr=t(403),rr=Object(u.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(3)},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(1)},divider:{margin:e.spacing(2,0)}}}));function nr(){var e=Object(r.useContext)(na).currentCliente,a=Object(r.useContext)(Xt),t=a.credito,l=a.setCredito,c=rr(),o=new Date,i=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate();return n.a.createElement("div",null,n.a.createElement(P.a,{variant:"subtitle1",gutterBottom:!0},"Facturaci\xf3n"),n.a.createElement(Rt.a,{style:{float:"right",marginTop:"-40px"},control:n.a.createElement(tr.a,{checked:t,onChange:function(e){l(e.target.checked)},name:"credito",color:"primary"}),label:" \xbfEs cr\xe9dito?"}),n.a.createElement(ge.a,{container:!0,spacing:0,style:{fontSize:"12px"}},n.a.createElement(ge.a,{item:!0,xs:6},n.a.createElement(ar,{concatenarCedula:!0})),n.a.createElement(ge.a,{item:!0,xs:6},n.a.createElement(qt.a,{className:c.paper},n.a.createElement("strong",null,"Fecha:")," ",i,n.a.createElement("br",null),n.a.createElement("strong",null,"CI. :")," ",e.cedula,n.a.createElement("br",null),n.a.createElement("strong",null,"Telf. :")," ",e.telefono))),n.a.createElement(ge.a,{container:!0,spacing:0,style:{fontSize:"12px"}},n.a.createElement(ge.a,{item:!0,xs:1},n.a.createElement(qt.a,{className:c.paper},"*")),n.a.createElement(ge.a,{item:!0,xs:2},n.a.createElement(qt.a,{className:c.paper},"Cant.")),n.a.createElement(ge.a,{item:!0,xs:5},n.a.createElement(qt.a,{className:c.paper},"Nombre producto")),n.a.createElement(ge.a,{item:!0,xs:2},n.a.createElement(qt.a,{className:c.paper},"Precio U.")),n.a.createElement(ge.a,{item:!0,xs:2},n.a.createElement(qt.a,{className:c.paper},"Total"))))}var lr=t(284),cr=t.n(lr),or=t(214),ir=t.n(or),sr=t(285),ur=t.n(sr);var mr=Object(u.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(3)},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(1)},divider:{margin:e.spacing(2,0)}}})),dr=function(e){return a=e-.12*e,Math.round(100*a)/100;var a};function pr(e){var a=e.producto,t=mr(),l=Object(r.useContext)(Xt),c=l.sumarStockProductoFactura,o=l.restarStockProductoFactura,i=l.eliminarProductoFactura;return n.a.createElement("div",{style:{height:"24px"},key:a.id+a.tipoPrecio},n.a.createElement(ge.a,{container:!0,spacing:0,margin:0,style:{fontSize:"11px"}},n.a.createElement(ge.a,{item:!0,xs:1},n.a.createElement(qt.a,{className:t.paper},n.a.createElement(cr.a,{style:{cursor:"pointer"},onClick:function(){return i(a)},color:"action",fontSize:"inherit"}))),n.a.createElement(ge.a,{item:!0,xs:2},n.a.createElement(qt.a,{className:t.paper},n.a.createElement(ir.a,{style:{cursor:"pointer"},onClick:function(){return c(a)},color:"action",fontSize:"inherit"}),n.a.createElement("strong",null," ",a.cantidad," "),n.a.createElement(ur.a,{style:{cursor:"pointer"},onClick:function(){return o(a)},color:"action",fontSize:"inherit"}))),n.a.createElement(ge.a,{item:!0,xs:5,title:a.nombre},n.a.createElement(qt.a,{className:t.paper},a.nombre)),n.a.createElement(ge.a,{item:!0,xs:2,style:{backgroundColor:"#cef2e6"}},n.a.createElement(qt.a,{style:{backgroundColor:"#cef2e6"},className:t.paper},"publico"===a.tipoPrecio?dr(a.precio_publico):"","tecnico"===a.tipoPrecio?dr(a.precio_tecnico):"","mayorista"===a.tipoPrecio?dr(a.precio_distribuidor):"")),n.a.createElement(ge.a,{item:!0,xs:2},n.a.createElement(qt.a,{className:t.paper},a.total))))}var br=t(393),fr=t(143),gr=t(588),Er=t(416),hr=t.n(Er),vr=t(417),Or=t.n(vr),jr=Object(u.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(3)},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(1)},divider:{margin:e.spacing(2,0)}}})),xr=function(e){return a=e-.12*e,Math.round(100*a)/100;var a};function Cr(e){var a=e.producto,t=jr();return n.a.createElement("div",{style:{height:"24px"},key:a.id+a.tipoPrecio},n.a.createElement(ge.a,{container:!0,spacing:0,margin:0,style:{fontSize:"11px"}},n.a.createElement(ge.a,{item:!0,xs:1},n.a.createElement(qt.a,{className:t.paper},n.a.createElement("strong",null," ",a.cantidad," "))),n.a.createElement(ge.a,{item:!0,xs:7,title:a.nombre},n.a.createElement(qt.a,{className:t.paper},a.nombre)),n.a.createElement(ge.a,{item:!0,xs:2,style:{backgroundColor:"#cef2e6"}},n.a.createElement(qt.a,{style:{backgroundColor:"#cef2e6"},className:t.paper},"publico"===a.tipoPrecio?xr(a.precio_publico):"","tecnico"===a.tipoPrecio?xr(a.precio_tecnico):"","mayorista"===a.tipoPrecio?xr(a.precio_distribuidor):"")),n.a.createElement(ge.a,{item:!0,xs:2},n.a.createElement(qt.a,{className:t.paper},a.total))))}var yr=Object(u.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(0),fontSize:"12px"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(1)},paperRight:{padding:e.spacing(1),textAlign:"Right",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(1)},divider:{margin:e.spacing(2,0)}}}));function wr(e){var a=e.totales,t=yr(),l=Object(r.useContext)(Xt).observacion;return n.a.createElement("div",null,n.a.createElement(_.a,{className:t.divider}),n.a.createElement("div",{className:t.container},n.a.createElement("div",{style:{gridColumnEnd:"span 8",height:"24px"}},n.a.createElement(qt.a,{className:t.paperRight},"SUBTOTAL: ")),n.a.createElement("div",{style:{gridColumnEnd:"span 4"}},n.a.createElement(qt.a,{className:t.paper}," $ ",a.subtotal)),n.a.createElement("div",{style:{gridColumnEnd:"span 8"}},n.a.createElement(qt.a,{className:t.paperRight},"IVA 12%: ")),n.a.createElement("div",{style:{gridColumnEnd:"span 4"}},n.a.createElement(qt.a,{className:t.paper}," $ ",a.iva)),n.a.createElement("div",{style:{gridColumnEnd:"span 8"}},n.a.createElement(qt.a,{className:t.paperRight},"TOTAL: ")),n.a.createElement("div",{style:{gridColumnEnd:"span 4"}},n.a.createElement(qt.a,{className:t.paper}," $ ",a.total)),n.a.createElement("div",{style:{gridColumnEnd:"span 9"}},n.a.createElement(qt.a,{className:t.paperRight,style:{textAlign:"left"}},"Observaciones: ",l)),n.a.createElement("div",{style:{gridColumnEnd:"span 3",textAlign:"center"}})))}var Nr=t.p+"static/media/Factura.54ca728a.PNG",Sr=Object(u.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(3)},paper:{padding:e.spacing(1),textAlign:"left",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(0)},divider:{margin:e.spacing(1,0)}}})),kr=n.a.forwardRef((function(e,a){var t=Object(r.useContext)(Xt),l=t.productosFactura,c=t.totales,o=t.factura_id,i=t.fechaFactura,s=t.credito,u=Object(r.useContext)(na).currentCliente,m=Sr();return n.a.createElement("div",{ref:a,style:{width:"50%",marginLeft:"19px"}},n.a.createElement("img",{className:"imagenImpresion",src:Nr}),n.a.createElement(P.a,{variant:"subtitle1",gutterBottom:!0},n.a.createElement("center",null,"N\xb0 Control ",o," ",s&&" (credito)")),n.a.createElement(ge.a,{container:!0,spacing:0,style:{fontSize:"12px"}},n.a.createElement(ge.a,{item:!0,xs:12},n.a.createElement(qt.a,{className:m.paper},n.a.createElement("div",null,n.a.createElement("strong",null," CI:")," ",u.cedula),n.a.createElement("div",null,n.a.createElement("strong",null," Cliente:")," ",u.nombres),n.a.createElement("div",null,n.a.createElement("strong",null," Telf.:")," ",u.telefono),n.a.createElement("div",null,n.a.createElement("strong",null," Dir.:")," ",u.direccion),n.a.createElement("div",null,n.a.createElement("strong",null," Fecha:")," ",i)))),n.a.createElement(ge.a,{container:!0,spacing:0,style:{fontSize:"12px"}},n.a.createElement(ge.a,{item:!0,xs:1},n.a.createElement(qt.a,{className:m.paper},"Cant.")),n.a.createElement(ge.a,{item:!0,xs:7},n.a.createElement(qt.a,{className:m.paper},"Nombre producto")),n.a.createElement(ge.a,{item:!0,xs:2},n.a.createElement(qt.a,{className:m.paper},"Precio U.")),n.a.createElement(ge.a,{item:!0,xs:2},n.a.createElement(qt.a,{className:m.paper},"Total"))),n.a.createElement("div",null,l.map((function(e){return n.a.createElement(Cr,{key:e.id+e.tipoPrecio,producto:e})}))),n.a.createElement(wr,{key:1,totales:c}))})),Ir=Object(u.a)((function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:fr.a[500],"&:hover":{backgroundColor:fr.a[700]}},fabProgress:{color:fr.a[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:fr.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function Tr(){var e=Ir(),a=n.a.useState(!1),t=Object(h.a)(a,2),l=t[0],c=t[1],o=n.a.useState(!1),i=Object(h.a)(o,2),s=i[0],u=(i[1],n.a.useRef()),m=Object(r.useContext)(Xt),d=m.guardarFactura,p=m.setProductosFactura,b=m.setObservacion,f=m.setCredito,g=Object(r.useContext)(na).setCurrentCliente,E=Object(z.a)(Object(v.a)({},e.buttonSuccess,s));n.a.useEffect((function(){return console.log("Se esta renderizando el born guardar"),function(){clearTimeout(u.current)}}),[]);var O=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,d();case 3:if(a=e.sent,c(!1),200===a.status){e.next=8;break}return ea.a.error(a.mensaje,2),e.abrupt("return");case 8:y(),ea.a.success(a.mensaje,2);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(r.useRef)(),y=function(){w()},w=Object(Kt.useReactToPrint)({content:function(){return C.current},onAfterPrint:function(){p([]),b(""),f(!1),g({cedula:"",nombres:"-SELECCIONE-"})}});return n.a.createElement("div",{className:e.root},n.a.createElement("div",{style:{display:"none"}},n.a.createElement(kr,{ref:C})),n.a.createElement("div",{className:e.wrapper},n.a.createElement(gr.a,{"aria-label":"save",color:"primary",className:E,onClick:O},s?n.a.createElement(hr.a,null):n.a.createElement(Or.a,null)),l&&n.a.createElement(va.a,{size:68,className:e.fabProgress})))}var Pr=Object(u.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:e.spacing(0),fontSize:"12px"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(1)},paperRight:{padding:e.spacing(1),textAlign:"Right",color:e.palette.text.secondary,whiteSpace:"nowrap",marginBottom:e.spacing(1)},divider:{margin:e.spacing(2,0)}}}));function _r(e){var a=e.totales,t=Pr(),l=Object(r.useContext)(Xt),c=l.observacion,o=l.setObservacion;return n.a.createElement("div",null,n.a.createElement(_.a,{className:t.divider}),n.a.createElement("div",{className:t.container},n.a.createElement("div",{style:{gridColumnEnd:"span 8",height:"24px"}},n.a.createElement(qt.a,{className:t.paperRight},"SUBTOTAL: ")),n.a.createElement("div",{style:{gridColumnEnd:"span 4"}},n.a.createElement(qt.a,{className:t.paper}," $ ",a.subtotal)),n.a.createElement("div",{style:{gridColumnEnd:"span 8"}},n.a.createElement(qt.a,{className:t.paperRight},"IVA 12%: ")),n.a.createElement("div",{style:{gridColumnEnd:"span 4"}},n.a.createElement(qt.a,{className:t.paper}," $ ",a.iva)),n.a.createElement("div",{style:{gridColumnEnd:"span 8"}},n.a.createElement(qt.a,{className:t.paperRight},"TOTAL: ")),n.a.createElement("div",{style:{gridColumnEnd:"span 4"}},n.a.createElement(qt.a,{className:t.paper}," $ ",a.total)),n.a.createElement("div",{style:{gridColumnEnd:"span 9"}},n.a.createElement(qt.a,{className:t.paperRight,style:{textAlign:"left"}},n.a.createElement(br.a,{defaultValue:c,onChange:function(e){o(e.target.value)},style:{width:"100%"},"aria-label":"minimum height",rows:3,placeholder:"Observaciones"}))),n.a.createElement("div",{style:{gridColumnEnd:"span 3",textAlign:"center"}},n.a.createElement(Tr,null))))}var Ar=function(){var e=Object(r.useContext)(Xt),a=e.productosFactura,t=e.totales;return n.a.createElement("div",null,n.a.createElement(nr,null),n.a.createElement("div",{style:{height:"130px",overflow:"auto"}},a.map((function(e){return n.a.createElement(pr,{key:e.id+e.tipoPrecio,producto:e})}))),n.a.createElement(_r,{key:1,totales:t}))},Fr=(t(600),t(589),Object(u.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{maxWidth:"100%",margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(1)}}}))),Br=function(e){e.classes;var a=e.productos,t=Fr(),l=Object(r.useContext)(Xt).agregarProductoFactura;return n.a.createElement("div",{style:{height:"370px",overflow:"auto"}},a.map((function(e){if(e.stock>0)return n.a.createElement("div",{key:e.id},n.a.createElement(qt.a,{id:"productoTabla",style:{cursor:"pointer",fontSize:"12px",fontFamily:"Roboto",textAlign:"justify"},className:t.paper,onClick:function(){return function(e){l(e)}(e)}},n.a.createElement(ge.a,{container:!0,wrap:"nowrap",spacing:1},n.a.createElement(ge.a,{item:!0},n.a.createElement(T.a,{title:"Stock "+e.stock},e.stock)),n.a.createElement(ge.a,{item:!0,xs:!0},n.a.createElement("strong",{style:{color:"#3f51b5"}},e.nombre),n.a.createElement("br",null),e.descripcion),n.a.createElement(ge.a,{item:!0,xs:3},"P. P\xfablico $",e.precio_publico,n.a.createElement("br",null),"P. T\xe9cnico $",e.precio_tecnico,n.a.createElement("br",null),"P. Mayorista $",e.precio_distribuidor)),n.a.createElement(ge.a,{item:!0,xs:12,style:{fontSize:"9px"}},"Cod: ",e.codigo_barra)))})))},Rr=(t(377),function(e){var a=e.classes,t=Object(r.useContext)(Ot),l=t.setProductosTemp,c=t.productos;return n.a.createElement(qt.a,{className:a.paper},n.a.createElement(Ae.a,{fullWidth:!0,onChange:function(e){var a=c.filter((function(a){var t=a.nombre.toUpperCase(),r=e.target.value.toUpperCase(),n=null===a.codigo_barra?"".toString():a.codigo_barra.toString(),l=e.target.value.toString();return t.indexOf(r)>-1||n.indexOf(l)>-1}));l(a)},InputProps:{startAdornment:n.a.createElement(Je.a,{position:"start"},n.a.createElement(Qe.a,{fontSize:"inherit",color:"action"},n.a.createElement(ca.a,null)))},placeholder:"Buscar Producto",variant:"outlined"}))}),Dr=t(67),Mr=t(291),Lr=t.n(Mr),Vr=t(601),Ur=Object(Dr.a)({root:{color:Lr.a[600],"&$checked":{color:Lr.a[500]}},checked:{}});var Wr=function(){var e=Object(r.useContext)(Xt),a=e.currentPrecio,t=e.setCurrentPrecio,l=Ur();function c(e){t(e.target.value),console.log(e.target.value)}return n.a.createElement("div",null,n.a.createElement(Vr.a,{checked:"publico"===a,onChange:c,value:"publico",name:"radio-button-demo","aria-label":"A"}),"P. P\xfablico",n.a.createElement(Vr.a,{checked:"tecnico"===a,onChange:c,value:"tecnico",name:"radio-button-demo","aria-label":"B"}),"P. T\xe9cnico",n.a.createElement(Vr.a,{checked:"mayorista"===a,onChange:c,value:"mayorista",name:"radio-button-demo","aria-label":"C",classes:{root:l.root,checked:l.checked}}),"P. Mayorista")},qr=function(e){var a=e.classes,t=e.productos,r=e.setProductos,l=e.buscarProductos;return n.a.createElement(n.a.Fragment,null,n.a.createElement(Rr,{buscarProductos:l,productos:t,classes:a,setProductos:r}),n.a.createElement(ge.a,{item:!0,xs:12},n.a.createElement(qt.a,{className:a.paper},n.a.createElement("strong",null,"Seleccione Productos"),n.a.createElement(Wr,null))),n.a.createElement(Br,{productos:t,classes:a}))},zr=Object(u.a)((function(e){return{root:{flexGrow:1},margin:{margin:e.spacing(1)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},paper2:{padding:e.spacing(1),textAlign:"left",color:e.palette.text.secondary,height:"35px"}}})),Gr=function(){var e=zr(),a=Object(r.useContext)(Ot),t=a.ObtenerProductos,l=(a.productos,a.setProductos),c=a.buscarProductos,o=a.productosTemp,i=Object(r.useContext)(na).setCurrentCliente;return n.a.useEffect((function(){i({cedula:"",nombres:"-SELECCIONE-"}),t()}),[]),n.a.createElement("div",{className:e.root},n.a.createElement(ge.a,{container:!0,spacing:1},n.a.createElement(ge.a,{item:!0,xs:12},n.a.createElement(qt.a,{className:e.paper},n.a.createElement("strong",null,"Punto de venta"))),n.a.createElement(ge.a,{item:!0,xs:12,sm:5},n.a.createElement(qr,{setProductos:l,buscarProductos:c,productos:o,classes:e})),n.a.createElement(ge.a,{item:!0,xs:12,sm:7},n.a.createElement(qt.a,{className:e.paper},n.a.createElement(Ar,null)))))},$r=(Object(u.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)}}})),Object(u.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),Object(u.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},root1:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),t(595)),Yr=t(236),Hr=t.n(Yr),Kr=t(590),Xr=t(594),Jr=t(592),Qr=t(593),Zr=t(591);function en(){var e=Object(r.useContext)($t),a=e.isOpenModalAbono,t=e.SetIsOpenModalAbono,l=e.guardarAbono,c=e.currentCredito,o=e.isLoading,i=(e.setIsLoading,Object(r.useState)(0)),s=Object(h.a)(i,2),u=s[0],m=s[1],d=function(){t(!1)};return n.a.createElement("div",null,n.a.createElement(Kr.a,{open:a,onClose:d,"aria-labelledby":"form-dialog-title"},n.a.createElement(Zr.a,{id:"form-dialog-title"},"Agregar Abono"),n.a.createElement(Jr.a,null,n.a.createElement(Qr.a,null,"Descripci\xf3n: ",c.detalle),n.a.createElement(Ae.a,{autoFocus:!0,margin:"dense",id:"name",onChange:function(e){return m(e.target.value)},label:"$ 0.00",type:"number",fullWidth:!0})),n.a.createElement(Xr.a,null,n.a.createElement($.a,{onClick:d,color:"primary"},"Cancelar"),n.a.createElement($.a,{onClick:function(){l(u)},color:"primary"},"Guardar")),o?n.a.createElement(Ma.a,null):null))}Object(u.a)({table:{minWidth:650}});var an=t(596),tn=t(121),rn=t.n(tn),nn=t(120),ln=t.n(nn),cn=Object(u.a)({table:{minWidth:700}});function on(e){return"".concat(e.toFixed(2))}function sn(e,a,t){return{desc:e,qty:a,unit:t,price:function(e,a){return e*a}(a,t)}}var un=[sn("Paperclips (Box)",100,1.15),sn("Paper (Case)",10,45.99),sn("Waste Basket",2,17.99)];un.map((function(e){return e.price})).reduce((function(e,a){return e+a}),0);function mn(e){var a=e.factura,t=cn();return n.a.createElement($r.a,{component:qt.a,style:{backgroundColor:"rgba(217, 217, 217, 0.29)"}},n.a.createElement("strong",null,"Cliente: ")," ",a.cliente,n.a.createElement(Ue.a,{className:t.table,"aria-label":"spanning table"},n.a.createElement(We.a,null,n.a.createElement(qe.a,{style:{backgroundColor:"#9d9d9d5e"}},n.a.createElement(ze.a,null,"Producto"),n.a.createElement(ze.a,{align:"right"},"Cant."),n.a.createElement(ze.a,{align:"right"},"T. Unit"),n.a.createElement(ze.a,{align:"right"},"Total"))),n.a.createElement(Ge.a,null,a.detalles.map((function(e){return n.a.createElement(qe.a,{key:e.producto},n.a.createElement(ze.a,null,e.producto),n.a.createElement(ze.a,{align:"right"},e.cantidad),n.a.createElement(ze.a,{align:"right"},e.subtotal-.12*e.subtotal),n.a.createElement(ze.a,{align:"right"},on(e.cantidad*(e.subtotal-.12*e.subtotal))))})),n.a.createElement(qe.a,null,n.a.createElement(ze.a,{rowSpan:3}),n.a.createElement(ze.a,{colSpan:2},"Subtotal"),n.a.createElement(ze.a,{align:"right"},on(a.subtotal))),n.a.createElement(qe.a,null,n.a.createElement(ze.a,null,"Tax"),n.a.createElement(ze.a,{align:"right"},"".concat(12..toFixed(0)," %")),n.a.createElement(ze.a,{align:"right"},on(a.iva))),n.a.createElement(qe.a,null,n.a.createElement(ze.a,{colSpan:2},"Total"),n.a.createElement(ze.a,{align:"right"},on(a.total))))))}var dn=Object(u.a)({table:{minWidth:400,width:"50%",backgroundColor:"#f9f3ff"}});function pn(e){return"".concat(e.toFixed(2))}function bn(e,a,t){return{desc:e,qty:a,unit:t,price:function(e,a){return e*a}(a,t)}}!function(e){e.map((function(e){return e.price})).reduce((function(e,a){return e+a}),0)}([bn("2021-12-01",100,1.15),bn("2021-12-02",10,45.99),bn("2021-12-04",2,17.99)]);function fn(e){var a=e.pagos,t=e.totalAbonado,r=dn();return n.a.createElement($r.a,{component:qt.a},n.a.createElement(Ue.a,{className:r.table,"aria-label":"spanning table"},n.a.createElement(We.a,null,n.a.createElement(qe.a,null,n.a.createElement(ze.a,null,"Fecha"),n.a.createElement(ze.a,{align:"right"},"Abono."))),n.a.createElement(Ge.a,null,a.map((function(e){return n.a.createElement(qe.a,{key:e.id},n.a.createElement(ze.a,null,e.fecha),n.a.createElement(ze.a,{align:"right"},pn(e.abono)))})),n.a.createElement(qe.a,null,n.a.createElement(ze.a,null),n.a.createElement(ze.a,{colSpan:4},"Total Abono $",pn(t)),n.a.createElement(ze.a,{align:"right"})))))}var gn=Object(u.a)({root:{"& > *":{borderBottom:"unset"}}});function En(e){var a=e.title,t=e.factura,r=n.a.useState(!1),l=Object(h.a)(r,2),c=l[0],o=l[1],i=gn();return n.a.createElement(n.a.Fragment,null,n.a.createElement(qe.a,{className:i.root},n.a.createElement(ze.a,{component:"th",scope:"row"},n.a.createElement(ee.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!c)}},c?n.a.createElement(ln.a,null):n.a.createElement(rn.a,null))," ",a)),n.a.createElement(qe.a,null,n.a.createElement(ze.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},n.a.createElement(an.a,{in:c,timeout:"auto",unmountOnExit:!0},n.a.createElement(I.a,{margin:1},n.a.createElement(mn,{key:"com_fac_"+t.id,factura:t}))))))}function hn(e){var a=e.title,t=e.pagos,r=e.keyPago,l=e.totalAbonado,c=n.a.useState(!1),o=Object(h.a)(c,2),i=o[0],s=o[1],u=gn();return n.a.createElement(n.a.Fragment,null,n.a.createElement(qe.a,{className:u.root},n.a.createElement(ze.a,{component:"th",scope:"row"},n.a.createElement(ee.a,{"aria-label":"expand row",size:"small",onClick:function(){return s(!i)}},i?n.a.createElement(ln.a,null):n.a.createElement(rn.a,null)),a)),n.a.createElement(qe.a,null,n.a.createElement(ze.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},n.a.createElement(an.a,{in:i,timeout:"auto",unmountOnExit:!0},n.a.createElement(I.a,{margin:1},n.a.createElement(fn,{key:"comp_pa_"+r,pagos:t,totalAbonado:l}))))))}function vn(e){var a=e.factura,t=e.pagos,r=e.totalAbonado;return n.a.createElement($r.a,{component:qt.a},n.a.createElement(Ue.a,{"aria-label":"collapsible table"},n.a.createElement(Ge.a,null,n.a.createElement(En,{factura:a,key:"___fac00"+a.id,title:"Factura"}),n.a.createElement(hn,{pagos:t,totalAbonado:r,key:"___pags00"+a.id,keyPago:"___Pag_p_00"+a.id,title:"Pagos/Abonos"}))))}var On=Object(u.a)({table:{minWidth:650}}),jn=Object(u.a)({root:{"& > *":{borderBottom:"unset"}}});function xn(e){var a=e.credito,t=n.a.useState(!1),l=Object(h.a)(t,2),c=l[0],o=l[1],i=jn(),s=Object(r.useContext)($t),u=s.SetIsOpenModalAbono,m=s.setCurrentCredito;s.creditos,s.recargarListaCreditos,s.setRecargarListaCreditos,s.recargarFiltro,s.setRecargarFiltro;return n.a.createElement(n.a.Fragment,null,n.a.createElement(qe.a,{className:i.root},n.a.createElement(ze.a,null,n.a.createElement(ee.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!c)}},c?n.a.createElement(ln.a,null):n.a.createElement(rn.a,null))),n.a.createElement(ze.a,{component:"th",scope:"row"},a.fecha),n.a.createElement(ze.a,{align:"right"}," ",a.detalle),n.a.createElement(ze.a,{align:"right"}," ",a.cliente),n.a.createElement(ze.a,{align:"right"},a.telefono),n.a.createElement(ze.a,{align:"right"},a.total),n.a.createElement(ze.a,{align:"right"},a.abono),n.a.createElement(ze.a,{align:"right"}," ",a.saldo),n.a.createElement(ze.a,{align:"right"},n.a.createElement(Hr.a,{fontSize:"small",onClick:function(){return function(e){m(e),u(!0)}(a)}}))),n.a.createElement(qe.a,null,n.a.createElement(ze.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},n.a.createElement(an.a,{in:c,timeout:"auto",unmountOnExit:!0},n.a.createElement(I.a,{margin:1},n.a.createElement(vn,{factura:a.factura,pagos:a.pagos,totalAbonado:a.abono}))))))}function Cn(){var e=On(),a=Object(r.useContext)($t),t=(a.SetIsOpenModalAbono,a.setCurrentCredito,a.creditos),l=a.recargarListaCreditos,c=(a.setRecargarListaCreditos,a.recargarFiltro),o=a.setRecargarFiltro,i=Object(r.useState)(t),s=Object(h.a)(i,2),u=s[0],m=s[1],d=Object(r.useState)(l),p=Object(h.a)(d,2),b=p[0],f=p[1];return Object(r.useEffect)((function(){b&&(m(t),o(!1)),c&&(m(t),o(!1))}),[t,u]),n.a.createElement($r.a,{component:qt.a},n.a.createElement(en,null),n.a.createElement(qt.a,{className:e.paper},n.a.createElement(Ae.a,{fullWidth:!0,onChange:function(e){return function(e){var a=t.filter((function(a){var t=a.cliente.toUpperCase(),r=e.toUpperCase();return t.indexOf(r)>-1}));f(!1),m(a)}(e.target.value)},InputProps:{startAdornment:n.a.createElement(Je.a,{position:"start"},n.a.createElement(Qe.a,{fontSize:"inherit",color:"action"},n.a.createElement(ca.a,null)))},placeholder:"Buscar credito",variant:"outlined"})),n.a.createElement(Ue.a,{"aria-label":"collapsible table"},n.a.createElement(We.a,null,n.a.createElement(qe.a,null,n.a.createElement(ze.a,null),n.a.createElement(ze.a,null,"Fecha cr\xe9dito"),n.a.createElement(ze.a,{align:"right"},"Descripci\xf3n"),n.a.createElement(ze.a,{align:"right"},"Cliente"),n.a.createElement(ze.a,{align:"right"},"Tel\xe9fono"),n.a.createElement(ze.a,{align:"right"},"Total"),n.a.createElement(ze.a,{align:"right"},"Abono"),n.a.createElement(ze.a,{align:"right"},"Saldo"))),n.a.createElement(Ge.a,null,u.map((function(e){return n.a.createElement(xn,{key:"___"+e.id,credito:e})})))))}var yn=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),wn=function(){var e=Object(r.useContext)(na),a=(e.isNewClient,e.clientes,e.setClientes,yn());return n.a.createElement(he,{className:a.root,title:"Clientes"},n.a.createElement(fe.a,{maxWidth:!1},n.a.createElement("h2",null,"CREDITOS"),n.a.createElement(I.a,{mt:3},n.a.createElement(Cn,null))))},Nn=Object(r.createContext)(),Sn="api/tecnicos",kn=function(e){var a=Object(r.useState)([]),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),i=Object(h.a)(o,2),s=i[0],u=i[1];Object(r.useEffect)((function(){m()}),[]);var m=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(Sn);case 2:a=e.sent,c(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(Nn.Provider,{value:{tecnicos:l,currentTecnico:s,setCurrentTecnico:u}},e.children)},In=t.p+"static/media/LogoIngreso.1cc50be9.PNG",Tn=n.a.forwardRef((function(e,a){var t=e.datosImpresion,r=t.orden,l=t.cliente;t.tecnico;if(void 0!==r)return n.a.createElement("div",{ref:a},n.a.createElement("div",{style:{width:"100%",color:"black",marginLeft:"19px"}},n.a.createElement("img",{className:"imagenImpresion",src:In}),n.a.createElement("center",null,n.a.createElement("h3",null,"INGRESO N\xb0 ",r.id," ")),n.a.createElement("table",{style:{width:"500px"}},n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("strong",null,"Nombre ")),n.a.createElement("td",{colspan:"3"}," ",l.nombres)),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("strong",null,"C\xe9dula ")),n.a.createElement("td",null," ",l.cedula),n.a.createElement("td",null,n.a.createElement("strong",null,"Tel\xe9fono ")),n.a.createElement("td",null," ",l.telefono)),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("strong",null,"Equipo ")),n.a.createElement("td",null," ",r.equipo),n.a.createElement("td",null,n.a.createElement("strong",null,"N\xb0 Serie ")),n.a.createElement("td",null," ",r.serie)),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("strong",null,"Marca ")),n.a.createElement("td",null,r.marca),n.a.createElement("td",null,n.a.createElement("strong",null,"Fecha Ingreso ")),n.a.createElement("td",null,r.fecha)),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("strong",null,"Modelo ")),n.a.createElement("td",{colspan:"3"},r.modelo)),n.a.createElement("tr",null,n.a.createElement("td",{colspan:"4"},n.a.createElement("hr",{style:{borderBottom:"2px dotted black",width:"100%"}}))),n.a.createElement("tr",null,n.a.createElement("td",null,1===r.camara?n.a.createElement("input",{type:"checkbox",id:"camara",name:"name",checked:"checked"}):n.a.createElement("label",{style:{border:"1px solid red",color:"red"}},"X")," ","C\xe1mara"),n.a.createElement("td",null,1===r.teclado?n.a.createElement("input",{type:"checkbox",id:"camara",name:"name",checked:"checked"}):n.a.createElement("label",{style:{border:"1px solid red",color:"red"}},"X")," ","Teclado"),n.a.createElement("td",{colspan:"2"})),n.a.createElement("tr",null,n.a.createElement("td",null,1===r.microfono?n.a.createElement("input",{type:"checkbox",id:"camara",name:"name",checked:"checked"}):n.a.createElement("label",{style:{border:"1px solid red",color:"red"}},"X")," ","Micr\xf3fono"),n.a.createElement("td",null,1===r.parlantes?n.a.createElement("input",{type:"checkbox",id:"camara",name:"name",checked:"checked"}):n.a.createElement("label",{style:{border:"1px solid red",color:"red"}},"X")," ","Parlantes"),n.a.createElement("td",{colspan:"2"})),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("strong",null,"Falla ")),n.a.createElement("td",{colspan:"3"}," ",r.falla)),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("strong",null,"Observaci\xf3n ")),n.a.createElement("td",{colspan:"3"},r.observacion)),n.a.createElement("tr",null,n.a.createElement("td",null,"Total : $",r.total),n.a.createElement("td",null,"Abono: $",r.abono),n.a.createElement("td",null," Saldo: $",r.saldo," "),n.a.createElement("td",null)),n.a.createElement("tr",null,n.a.createElement("td",{colspan:"4",style:{textAlign:"justify"}},n.a.createElement("hr",{style:{borderBottom:"1px dotted black",width:"100%"}}),n.a.createElement("strong",null,"Nota: ")," Estimado cliente, pasado los 60 d\xedas no nos responsabilizamos por el estado de su equipo. Revisi\xf3n minima $5 dolares."," ")))))})),Pn=Object(r.createContext)(),_n="api/ordenes",An="api/ordenes",Fn="api/ordenes",Bn="api/ordenes",Rn="api/ordenes/abonos/nuevoabono",Dn="api/ordenes/total/actualizar",Mn=function(e){var a=Object(r.useState)([]),t=Object(h.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),i=Object(h.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)(!1),d=Object(h.a)(m,2),p=d[0],b=d[1],f=Object(r.useState)(!1),g=Object(h.a)(f,2),E=g[0],v=g[1],O=Object(r.useState)(!0),C=Object(h.a)(O,2),w=C[0],N=C[1],S=Object(r.useContext)(na),k=S.clientes,I=S.buscarCliente,T=Object(r.useContext)(da).setIsReload,P=Object(r.useState)([]),_=Object(h.a)(P,2),A=_[0],F=_[1],B=Object(r.useState)([]),R=Object(h.a)(B,2),D=R[0],M=R[1],L=Object(r.useState)(!1),V=Object(h.a)(L,2),U=V[0],W=V[1],q=Object(r.useState)(!1),z=Object(h.a)(q,2),G=z[0],$=z[1],Y=Object(r.useState)(!1),H=Object(h.a)(Y,2),K=H[0],X=H[1],J=Object(r.useState)({camara:!1,teclado:!1,microfono:!1,parlantes:!1,pantalla:!1}),Q=Object(h.a)(J,2),Z=Q[0],ee=Q[1],ae=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={orden_id:D.orden.id,abono:a},e.next=3,y.post(Rn,t);case 3:return e.sent,N(!0),e.abrupt("return",{codigo:200,mensaje:"Abono Registrado."});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),te=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={orden_id:D.orden.id,total:a},e.next=3,y.post(Dn,t);case 3:return e.sent,N(!0),e.abrupt("return",{codigo:200,mensaje:"Total Actualizado."});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),re=function(){var e=Object(x.a)(j.a.mark((function e(a){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Orden a imprimir",a),void 0!==(t=k.filter((function(e){return e.id===a.cliente_id})))){e.next=4;break}return e.abrupt("return");case 4:if(0!=t.length){e.next=9;break}return e.next=7,I(a.cliente_id);case 7:r=e.sent,t=[Object(Pe.a)({},r)];case 9:M({cliente:{nombres:t[0].nombres,cedula:t[0].cedula,telefono:t[0].telefono},tecnico:{nombres:localStorage.getItem("nombres")},orden:{id:a.id,cliente_id:a.cliente_id,equipo:a.equipo,serie:a.serie,marca:a.marca,modelo:a.modelo,observacion:a.observacion,falla:a.falla,trabajo:a.trabajo,total:a.total,abono:a.abono,saldo:a.saldo,fecha:a.fecha,camara:a.camara,teclado:a.teclado,microfono:a.microfono,parlantes:a.parlantes}});case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){w&&(console.log("RECARGANDO ORDENES."),ne(),N(!1))}),[w,D]);var ne=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(_n);case 2:a=e.sent,c(a.data),u(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post(An,a);case 2:return t=e.sent,console.log(t),e.abrupt("return",{code:200,mensaje:"Guardado OK"});case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===D||void 0===D||null===(a=D.orden)||void 0===a?void 0:a.id)){e.next=2;break}return e.abrupt("return");case 2:Xe.a.fire({title:"\xbfEst\xe1 seguro de eliminar la orden?",showDenyButton:!0,confirmButtonText:"si, borrar",denyButtonText:"Cancelar"}).then(function(){var e=Object(x.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=5;break}return e.next=3,y.patch(Bn+"/"+D.orden.id,{estado:0});case 3:1===e.sent.data&&(N(!0),T(!0),Xe.a.fire("Eliminado","","success"));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("".concat(Fn,"/").concat(a.id),a);case 2:return t=e.sent,e.abrupt("return",{code:200,mensaje:"Actualizado",payload:t.data});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(x.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("".concat(Fn,"/").concat(a.id),a);case 2:return t=e.sent,e.abrupt("return",{code:200,mensaje:"Actualizado",payload:t.data});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),se=Object(r.useRef)(),ue=Object(Kt.useReactToPrint)({content:function(){return se.current}});return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{display:"none"}},n.a.createElement(Tn,{datos:"mychael datos",datosImpresion:D,ref:se})),n.a.createElement(Pn.Provider,{value:{ordenes:l,ordenesTemp:s,setOrdenes:c,setOrdenesTemp:u,setReload:N,isNew:p,setIsNew:b,guardarOrden:le,actualizarIngreso:oe,abonarIngreso:ie,currentIngreso:A,setCurrentIngreso:F,PrepararDatosImpresion:re,EventoImprimirReact:function(){ue()},componentRef:se,state:Z,setState:ee,isOpenModalIngreso:U,SetIsOpenModalIngreso:W,guardarAbono:ae,isLoading:K,setIsLoading:X,eliminarOrden:ce,isOpenModalTotal:G,SetIsOpenModalTotal:$,actualizarTotal:te,openModalIngreso:E,setOpenModalIngreso:v,datosImpresion:D}},e.children))},Ln=t(395),Vn=t(125),Un=t(597);function Wn(){var e=Object(r.useContext)(Pn),a=e.state,t=e.setState,l=function(e){t(Object(Pe.a)(Object(Pe.a)({},a),{},Object(v.a)({},e.target.name,e.target.checked)))};return n.a.createElement(Vn.a,{component:"fieldset",style:{marginLeft:"65px"}},n.a.createElement(Ln.a,{component:"legend"},"Estado del equipo"),n.a.createElement(Un.a,null,n.a.createElement(ge.a,{component:"label",container:!0,alignItems:"center",spacing:1},n.a.createElement(ge.a,{item:!0},n.a.createElement(Rt.a,{control:n.a.createElement(tr.a,{checked:a.camara,onChange:l,name:"camara"}),label:"C\xe1mara"})),n.a.createElement(ge.a,{item:!0},n.a.createElement(Rt.a,{control:n.a.createElement(tr.a,{checked:a.teclado,onChange:l,name:"teclado"}),label:"Teclado"}))),n.a.createElement(ge.a,{component:"label",container:!0,alignItems:"center",spacing:1},n.a.createElement(ge.a,{item:!0},n.a.createElement(Rt.a,{control:n.a.createElement(tr.a,{checked:a.microfono,onChange:l,name:"microfono"}),label:"Microfono"})),n.a.createElement(ge.a,{item:!0},n.a.createElement(Rt.a,{control:n.a.createElement(tr.a,{checked:a.parlantes,onChange:l,name:"parlantes"}),label:"Parlantes"})))))}var qn=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField1:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"36ch"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},textFieldFecha:{marginLeft:e.spacing(1),marginRight:e.spacing(5),marginBottom:e.spacing(2),width:"25ch"},btn:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}));function zn(){var e=qn(),a=new Date,t=Object(r.useState)(Ht.a.format(a,"YYYY-MM-DD")),l=Object(h.a)(t,2),c=l[0],o=l[1],i=Object(r.useContext)(na),s=i.setCurrentCliente,u=i.currentCliente,m=(Object(r.useContext)(Nn).currentTecnico,Object(r.useContext)(da).setIsReload),d=Object(r.useContext)(Pn),p=d.guardarOrden,b=d.setIsNew,f=d.setReload,g=d.state,E=Object(r.useState)(""),v=Object(h.a)(E,2),O=v[0],C=v[1],y=Object(r.useState)(""),w=Object(h.a)(y,2),N=w[0],S=w[1],k=Object(r.useState)(""),T=Object(h.a)(k,2),P=T[0],_=T[1],A=Object(r.useState)(""),F=Object(h.a)(A,2),B=F[0],R=F[1],D=Object(r.useState)(""),M=Object(h.a)(D,2),L=M[0],V=M[1],U=Object(r.useState)(""),W=Object(h.a)(U,2),q=W[0],z=W[1],G=Object(r.useState)(0),Y=Object(h.a)(G,2),H=Y[0],K=Y[1],X=Object(r.useState)(0),J=Object(h.a)(X,2),Q=J[0],Z=J[1],ee=Object(r.useState)(0),ae=Object(h.a)(ee,2),te=ae[0],re=ae[1],ne=Object(r.useState)(""),le=Object(h.a)(ne,2),ce=le[0],oe=le[1];Object(r.useEffect)((function(){console.log("redner nuevo"),s({cedula:"",nombres:"-SELECCIONE-"})}),[Q]);var ie=function(){var e=Object(x.a)(j.a.mark((function e(){var a,t,r,n,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=se()).estado){e.next=4;break}return ea.a.error(a.mensaje,2),e.abrupt("return");case 4:return t=[],0!==te&&([],t=[{abono:te,fecha:c,comentario:"Abono inicial"}]),r=1,null!==localStorage.getItem("user_id")&&(r=localStorage.getItem("user_id")),n={cliente_id:u.id,usuario_id:r,fecha:c,equipo:O,marca:N,modelo:P,serie:B,falla:L,trabajo:q,total:H,saldo:Q,abono:te,observacion:ce,camara:g.camara,teclado:g.teclado,microfono:g.microfono,parlantes:g.parlantes,last_user_update:r,user_update_work:r,abono_ordenes:t},e.next=11,p(n);case 11:if(200===(l=e.sent).code){e.next=15;break}return ea.a.error(l.mensaje,2),e.abrupt("return");case 15:ea.a.success(l.mensaje,2),m(!0),f(!0),b(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){return""===O?{estado:!1,mensaje:"Ingrese el equipo"}:""===N?{estado:!1,mensaje:"Ingrese la marca"}:""===P?{estado:!1,mensaje:"Ingrese el modelo"}:""===B?{estado:!1,mensaje:"Ingrese la serie"}:""===L?{estado:!1,mensaje:"Ingrese la falla"}:void 0===u.id?{estado:!1,mensaje:"Seleccione el cliente"}:{estado:!0,mensaje:"OK"}};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:e.root},n.a.createElement("div",null,n.a.createElement("div",{className:e.root},n.a.createElement(Ae.a,{id:"date",label:"Fecha Ingreso",type:"date",onChange:function(e){return o(e.target.value)},defaultValue:c,className:e.textFieldFecha,InputLabelProps:{shrink:!0}}),n.a.createElement(ar,{ancho:400,concatenarCedula:!0})),n.a.createElement(Ae.a,{required:!0,label:"Equipo",id:"margin-none",defaultValue:"",onChange:function(e){return C(e.target.value)},className:e.textField1,helperText:"P. Ej. CPU"}),n.a.createElement(Ae.a,{required:!0,label:"Marca",id:"margin-none",defaultValue:"",onChange:function(e){return S(e.target.value)},className:e.textField1}),n.a.createElement(Ae.a,{required:!0,label:"Modelo",id:"margin-none",defaultValue:"",onChange:function(e){return _(e.target.value)},className:e.textField1,helperText:""}),n.a.createElement(Ae.a,{required:!0,label:"Serie",id:"margin-none",defaultValue:"",onChange:function(e){return R(e.target.value)},className:e.textField1,helperText:""}),n.a.createElement(Wn,null),n.a.createElement(Ae.a,{id:"standard-full-width",onChange:function(e){return V(e.target.value)},label:"Falla",style:{margin:8,width:"90%"},placeholder:"",multiline:!0,helperText:"P. Ej. No enciende",margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(Ae.a,{id:"standard-full-width",onChange:function(e){return z(e.target.value)},label:"Trabajo",style:{margin:8,width:"90%"},placeholder:"",multiline:!0,helperText:"P. Ej. Se repar\xf3 circuito",margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(ft,{label:"Total",helperText:"",onChangeText:function(e){K(+e),Z(+e-+te)}}),n.a.createElement(ft,{label:"Abono",helperText:"",onChangeText:function(e){re(+e),Z(+H-+e)}}),n.a.createElement(Ae.a,{disabled:!0,id:"standard-disabled",label:"Saldo",value:Q})),n.a.createElement("div",null,n.a.createElement(Ae.a,{id:"filled-full-width",label:"Observaci\xf3n",style:{margin:"3px 10px 3px 3px",width:"425px"},placeholder:"",helperText:"",fullWidth:!0,margin:"normal",onChange:function(e){return oe(e.target.value)},InputLabelProps:{shrink:!0},variant:"filled"})),n.a.createElement("div",null,n.a.createElement(Ae.a,{disabled:!0,id:"standard-disabled",label:"Usuario",value:localStorage.getItem("nombres")}))),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end"},n.a.createElement($.a,{variant:"contained",className:e.btn,onClick:function(){b(!1)}},"Cancelar"),n.a.createElement($.a,{color:"primary",variant:"contained",onClick:ie},"Guardar")))}var Gn=t(419),$n=t.n(Gn),Yn=t(418),Hn=t.n(Yn),Kn=Object(u.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),Xn=function(e){var a=e.filrarIngresos;return n.a.createElement(xe.a,null,n.a.createElement(I.a,{maxWidth:500},n.a.createElement(Ae.a,{fullWidth:!0,onChange:a,InputProps:{startAdornment:n.a.createElement(Je.a,{position:"start"},n.a.createElement(Qe.a,{fontSize:"small",color:"action"},n.a.createElement(ca.a,null)))},placeholder:"Buscar ingreso",variant:"outlined"})))},Jn=function(e){var a=e.className,t=Object(q.a)(e,["className"]),l=Kn(),c=Object(r.useState)({imprimir:!1,eliminar:!1,nuevoIngreso:!1}),o=Object(h.a)(c,2),i=o[0],s=o[1],u=Object(r.useContext)(Pn),m=u.setOrdenesTemp,d=u.ordenes,p=u.isNew,b=u.setIsNew,f=u.datosImpresion,g=u.EventoImprimirReact,E=u.eliminarOrden,v=u.setOpenModalIngreso;return Object(r.useEffect)((function(){console.log("COMPONENTE",f),null!==localStorage.getItem("tipo_usuario")&&("ATENCION AL PUBLICO"===localStorage.getItem("tipo_usuario")&&s(Object(Pe.a)(Object(Pe.a)({},i),{},{eliminar:!0})),"TECNICO"===localStorage.getItem("tipo_usuario")&&s(Object(Pe.a)(Object(Pe.a)({},i),{},{imprimir:!0,eliminar:!0,nuevoIngreso:!0})))}),[f]),n.a.createElement("div",Object.assign({className:Object(z.a)(l.root,a)},t),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end"},p?null:n.a.createElement($.a,{variant:"contained",color:"secondary",className:l.exportButton,startIcon:n.a.createElement(Hn.a,null),title:"Ver/Editar Ingreso",onClick:function(){v(!0)}},"Ver"),p?null:n.a.createElement($.a,{variant:"contained",color:"secondary",className:l.exportButton,startIcon:n.a.createElement($n.a,null),onClick:g,disabled:i.imprimir},"Imprimir"),p?null:n.a.createElement($.a,{variant:"contained",style:{backgroundColor:"rgb(154, 0, 54)"},color:"secondary",className:l.exportButton,disabled:i.eliminar,onClick:E,startIcon:n.a.createElement(He.a,null)},"Eliminar"),p?null:n.a.createElement($.a,{color:"primary",variant:"contained",onClick:function(){b(!0)},disabled:i.nuevoIngreso},"Nuevo Ingreso")),n.a.createElement(I.a,{mt:3},n.a.createElement(je.a,null,p?n.a.createElement(zn,null):n.a.createElement(Xn,{filrarIngresos:function(e){var a=d.filter((function(a){var t=a.cliente.toUpperCase(),r=e.target.value.toUpperCase(),n=a.id.toString().toUpperCase(),l=e.target.value.toString().toUpperCase();return t.indexOf(r)>-1||n.toString().indexOf(l)>-1}));m(a)}}))))},Qn=(Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column"},statsItem:{alignItems:"center",display:"flex"},statsIcon:{marginRight:e.spacing(1)}}})),[{field:"id",headerName:"ID",width:90,visible:!1},{field:"cliente",headerName:"Cliente",width:300,visible:!0,editable:!1,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"fecha",headerName:"Fecha",width:130,editable:!0},{field:"observacion",headerName:"Observaci\xf3n",width:315,editable:!0,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"total",headerName:"Total",width:115,editable:!1},{field:"abono",headerName:"Abono",width:119,editable:!1},{field:"saldo",headerName:"Saldo",width:115,editable:!1},{field:"equipo",headerName:"Equipo",width:200,editable:!0},{field:"marca",headerName:"Marca",width:140,editable:!0},{field:"modelo",headerName:"Modelo",width:160,editable:!0},{field:"serie",headerName:"Serie",width:200,visible:!0,editable:!1,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"falla",headerName:"Falla",width:440,editable:!0,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"trabajo",headerName:"Trabajo",width:440,editable:!0,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"update_work",headerName:"Actualiz\xf3 trabajo",width:200,editable:!1}]),Zn=[{field:"id",headerName:"ID",width:90,visible:!1},{field:"cliente",headerName:"Cliente",width:300,visible:!0,editable:!1,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"fecha",headerName:"Fecha",width:130,editable:!1},{field:"observacion",headerName:"Observaci\xf3n",width:315,editable:!0,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"total",headerName:"Total",width:115,editable:!1},{field:"abono",headerName:"Abono",width:119,editable:!1},{field:"saldo",headerName:"Saldo",width:115,editable:!1},{field:"equipo",headerName:"Equipo",width:200,editable:!1},{field:"marca",headerName:"Marca",width:140,editable:!1},{field:"modelo",headerName:"Modelo",width:160,editable:!1},{field:"serie",headerName:"Serie",width:200,visible:!0,editable:!1,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"falla",headerName:"Falla",width:440,editable:!1,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"trabajo",headerName:"Trabajo",width:440,editable:!1,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"update_work",headerName:"Actualiz\xf3 trabajo",width:200,editable:!1}],el=[{field:"id",headerName:"ID",width:90,visible:!1},{field:"cliente",headerName:"Cliente",width:300,visible:!0,editable:!1,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"fecha",headerName:"Fecha",width:130,editable:!1},{field:"observacion",headerName:"Observaci\xf3n",width:315,editable:!0,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"total",headerName:"Total",width:115,editable:!1},{field:"abono",headerName:"Abono",width:119,editable:!1},{field:"saldo",headerName:"Saldo",width:115,editable:!1},{field:"equipo",headerName:"Equipo",width:200,editable:!1},{field:"marca",headerName:"Marca",width:140,editable:!1},{field:"modelo",headerName:"Modelo",width:160,editable:!1},{field:"serie",headerName:"Serie",width:200,visible:!0,editable:!1,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"falla",headerName:"Falla",width:440,editable:!1,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"trabajo",headerName:"Trabajo",width:440,editable:!0,renderCell:function(e){return n.a.createElement(wa.a,{title:e.formattedValue},n.a.createElement("span",{className:"table-cell-trucate"},e.formattedValue))}},{field:"update_work",headerName:"Actualiz\xf3 trabajo",width:200,editable:!1}];function al(){var e=Object(r.useContext)(Pn),a=e.isOpenModalIngreso,t=e.SetIsOpenModalIngreso,l=e.guardarAbono,c=e.isLoading,o=e.setIsLoading,i=Object(r.useContext)(da).setIsReload,s=Object(r.useState)(0),u=Object(h.a)(s,2),m=u[0],d=u[1],p=function(){t(!1)},b=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,l(m);case 3:if(a=e.sent,o(!1),200===a.codigo){e.next=7;break}return e.abrupt("return");case 7:t(!1),i(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement(Kr.a,{open:a,onClose:p,"aria-labelledby":"form-dialog-title"},n.a.createElement(Zr.a,{id:"form-dialog-title"},"Agregar Abono"),n.a.createElement(Jr.a,null,n.a.createElement(Qr.a,null),n.a.createElement(Ae.a,{autoFocus:!0,margin:"dense",id:"name",onChange:function(e){return d(e.target.value)},label:"$ 0.00",type:"number",fullWidth:!0})),n.a.createElement(Xr.a,null,n.a.createElement($.a,{onClick:p,color:"primary"},"Cancelar"),n.a.createElement($.a,{onClick:b,color:"primary"},"Guardar")),c?n.a.createElement(Ma.a,null):null))}function tl(){var e=Object(r.useContext)(Pn),a=e.isOpenModalTotal,t=e.SetIsOpenModalTotal,l=e.actualizarTotal,c=e.isLoading,o=e.setIsLoading,i=Object(r.useContext)(da).setIsReload,s=Object(r.useState)(0),u=Object(h.a)(s,2),m=u[0],d=u[1],p=function(){t(!1)},b=function(){var e=Object(x.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,l(m);case 3:if(a=e.sent,o(!1),200===a.codigo){e.next=7;break}return e.abrupt("return");case 7:t(!1),i(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement(Kr.a,{open:a,onClose:p,"aria-labelledby":"form-dialog-title"},n.a.createElement(Zr.a,{id:"form-dialog-title"},"Actualizar Total"),n.a.createElement(Jr.a,null,n.a.createElement(Qr.a,null),n.a.createElement(Ae.a,{autoFocus:!0,margin:"dense",id:"name",onChange:function(e){return d(e.target.value)},label:"$ 0.00",type:"number",fullWidth:!0})),n.a.createElement(Xr.a,null,n.a.createElement($.a,{onClick:p,color:"primary"},"Cancelar"),n.a.createElement($.a,{onClick:b,color:"primary"},"Guardar")),c?n.a.createElement(Ma.a,null):null))}var rl=t(420),nl=t.n(rl),ll=t(385);function cl(e){var a,t,l,c,o=e.inactivo,i=void 0!==o&&o,s=Object(r.useContext)(Pn),u=s.state,m=s.setState,d=s.datosImpresion,p=function(e){m(Object(Pe.a)(Object(Pe.a)({},u),{},Object(v.a)({},e.target.name,e.target.checked)))};return n.a.createElement(Vn.a,{component:"fieldset",style:{marginLeft:"65px"}},n.a.createElement(Ln.a,{component:"legend"},"Estado del equipo"),n.a.createElement(Un.a,null,n.a.createElement(ge.a,{component:"label",container:!0,alignItems:"center",spacing:1},n.a.createElement(ge.a,{item:!0},n.a.createElement(Rt.a,{control:n.a.createElement(tr.a,{disabled:i,checked:null===d||void 0===d||null===(a=d.orden)||void 0===a?void 0:a.camara,onChange:p,name:"camara"}),label:"C\xe1mara"})),n.a.createElement(ge.a,{item:!0},n.a.createElement(Rt.a,{control:n.a.createElement(tr.a,{disabled:i,checked:null===d||void 0===d||null===(t=d.orden)||void 0===t?void 0:t.teclado,onChange:p,name:"teclado"}),label:"Teclado"}))),n.a.createElement(ge.a,{component:"label",container:!0,alignItems:"center",spacing:1},n.a.createElement(ge.a,{item:!0},n.a.createElement(Rt.a,{control:n.a.createElement(tr.a,{disabled:i,checked:null===d||void 0===d||null===(l=d.orden)||void 0===l?void 0:l.microfono,onChange:p,name:"microfono"}),label:"Microfono"})),n.a.createElement(ge.a,{item:!0},n.a.createElement(Rt.a,{control:n.a.createElement(tr.a,{disabled:i,checked:null===d||void 0===d||null===(c=d.orden)||void 0===c?void 0:c.parlantes,onChange:p,name:"parlantes"}),label:"Parlantes"})))))}var ol=t(50),il=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField1:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"36ch"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},textFieldFecha:{marginLeft:e.spacing(1),marginRight:e.spacing(5),marginBottom:e.spacing(2),width:"25ch"},btn:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}));function sl(e){var a,t,l,c,o,i,s,u,m,d,p,b,f,g,E,v,O,C,y,w=e.fn_cerrarModal,N=il(),S=Object(r.useContext)(na),k=S.currentCliente,T=S.setCurrentCliente,P=(Object(r.useContext)(Nn).currentTecnico,Object(r.useContext)(da).setIsReload),_=Object(r.useContext)(Pn),A=_.actualizarIngreso,F=(_.setsINew,_.setReload),B=_.state,R=_.datosImpresion,D=_.setState,M=new Date((null===R||void 0===R||null===(a=R.orden)||void 0===a?void 0:a.fecha)+"T00:00:00"),L=Object(r.useState)(Ht.a.format(M,"YYYY-MM-DD")),V=Object(h.a)(L,2),U=V[0],W=V[1],q=Object(r.useState)(null===R||void 0===R||null===(t=R.orden)||void 0===t?void 0:t.equipo),z=Object(h.a)(q,2),G=z[0],Y=z[1],H=Object(r.useState)(null===R||void 0===R||null===(l=R.orden)||void 0===l?void 0:l.marca),K=Object(h.a)(H,2),X=K[0],J=K[1],Q=Object(r.useState)(null===R||void 0===R||null===(c=R.orden)||void 0===c?void 0:c.modelo),Z=Object(h.a)(Q,2),ee=Z[0],ae=Z[1],te=Object(r.useState)(null===R||void 0===R||null===(o=R.orden)||void 0===o?void 0:o.serie),re=Object(h.a)(te,2),ne=re[0],le=re[1],ce=Object(r.useState)(null===R||void 0===R||null===(i=R.orden)||void 0===i?void 0:i.falla),oe=Object(h.a)(ce,2),ie=oe[0],se=oe[1],ue=Object(r.useState)(null===R||void 0===R||null===(s=R.orden)||void 0===s?void 0:s.trabajo),me=Object(h.a)(ue,2),de=me[0],pe=me[1],be=Object(r.useState)(!1),fe=Object(h.a)(be,2),ge=fe[0],Ee=fe[1],he=Object(r.useState)(!1),ve=Object(h.a)(he,2),Oe=ve[0],je=ve[1],xe=Object(r.useState)(null===R||void 0===R||null===(u=R.orden)||void 0===u?void 0:u.observacion),Ce=Object(h.a)(xe,2),ye=Ce[0],we=Ce[1],Ne=Object(r.useState)(0),Se=Object(h.a)(Ne,2),ke=(Se[0],Se[1],Object(r.useState)(0)),Ie=Object(h.a)(ke,2),Te=Ie[0],_e=(Ie[1],Object(r.useState)(0)),Fe=Object(h.a)(_e,2);Fe[0],Fe[1];Object(r.useEffect)((function(){var e,a,t,r;return console.log("redner Editar ingreso."),T({cedula:"",nombres:"-SELECCIONE-"}),D({camara:null===R||void 0===R||null===(e=R.orden)||void 0===e?void 0:e.camara,teclado:null===R||void 0===R||null===(a=R.orden)||void 0===a?void 0:a.teclado,microfono:null===R||void 0===R||null===(t=R.orden)||void 0===t?void 0:t.microfono,parlantes:null===R||void 0===R||null===(r=R.orden)||void 0===r?void 0:r.parlantes}),function(){console.log("Se desmonto el componente."),T({cedula:"",telefono:""})}}),[Te]);var Be=function(){var e=Object(x.a)(j.a.mark((function e(){var a,t,r,n,l,c,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(null===R||void 0===R||null===(a=R.orden)||void 0===a?void 0:a.id)){e.next=3;break}return ea.a.error("No seleccion\xf3 ning\xfan ingreso",2),e.abrupt("return");case 3:if((r=Re()).estado){e.next=7;break}return ea.a.error(r.mensaje,2),e.abrupt("return");case 7:return je(!0),n=1,null!==localStorage.getItem("user_id")&&(n=localStorage.getItem("user_id")),l={},c={},""!==k.cedula&&(l={cliente_id:k.id}),ge&&(c={user_update_work:n}),o=Object(Pe.a)(Object(Pe.a)({id:null===R||void 0===R||null===(t=R.orden)||void 0===t?void 0:t.id},l),{},{usuario_id:n,fecha:U,equipo:G,marca:X,modelo:ee,serie:ne,falla:ie,trabajo:de,observacion:ye,camara:B.camara,teclado:B.teclado,microfono:B.microfono,parlantes:B.parlantes,last_user_update:n},c),e.next=17,A(o);case 17:if(i=e.sent,je(!1),200===i.code){e.next=22;break}return ea.a.error(i.mensaje,2),e.abrupt("return");case 22:ea.a.success(i.mensaje,2),P(!0),F(!0),w();case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){return""===G?{estado:!1,mensaje:"Ingrese el equipo"}:""===X?{estado:!1,mensaje:"Ingrese la marca"}:""===ee?{estado:!1,mensaje:"Ingrese el modelo"}:""===ne?{estado:!1,mensaje:"Ingrese la serie"}:""===U?{estado:!1,mensaje:"Ingrese la Fecha"}:{estado:!0,mensaje:"OK"}};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:N.root},n.a.createElement("div",null,n.a.createElement("center",null,n.a.createElement("h3",null,"Actualizar Ingreso N\xb0 ",null===R||void 0===R||null===(m=R.orden)||void 0===m?void 0:m.id)),n.a.createElement("hr",null),n.a.createElement("br",null),n.a.createElement("div",{className:N.root},n.a.createElement(Ae.a,{id:"fecha",label:"Fecha Ingreso",type:"date",onChange:function(e){return W(e.target.value)},defaultValue:U,className:N.textFieldFecha,disabled:!ol[localStorage.getItem("tipo_usuario")].fecha,InputLabelProps:{shrink:!0}}),n.a.createElement(ar,{ancho:400,selectInactive:!ol[localStorage.getItem("tipo_usuario")].cliente,disabled:!0,concatenarCedula:!0,defaultCliete:{id_cliente:null===R||void 0===R||null===(d=R.orden)||void 0===d?void 0:d.cliente_id,cedula:null===R||void 0===R||null===(p=R.cliente)||void 0===p?void 0:p.cedula,nombres:null===R||void 0===R||null===(b=R.cliente)||void 0===b?void 0:b.nombres}})),n.a.createElement(Ae.a,{required:!0,label:"Equipo",disabled:!ol[localStorage.getItem("tipo_usuario")].equipo,id:"margin-none",defaultValue:null===R||void 0===R||null===(f=R.orden)||void 0===f?void 0:f.equipo,onChange:function(e){return Y(e.target.value)},className:N.textField1,helperText:"P. Ej. CPU"}),n.a.createElement(Ae.a,{required:!0,label:"Marca",disabled:!ol[localStorage.getItem("tipo_usuario")].marca,id:"margin-none",defaultValue:null===R||void 0===R||null===(g=R.orden)||void 0===g?void 0:g.marca,onChange:function(e){return J(e.target.value)},className:N.textField1}),n.a.createElement(Ae.a,{required:!0,label:"Modelo",id:"margin-none",disabled:!ol[localStorage.getItem("tipo_usuario")].modelo,defaultValue:null===R||void 0===R||null===(E=R.orden)||void 0===E?void 0:E.modelo,onChange:function(e){return ae(e.target.value)},className:N.textField1,helperText:""}),n.a.createElement(Ae.a,{required:!0,label:"Serie",id:"margin-none",defaultValue:null===R||void 0===R||null===(v=R.orden)||void 0===v?void 0:v.serie,disabled:!ol[localStorage.getItem("tipo_usuario")].serie,onChange:function(e){return le(e.target.value)},className:N.textField1,helperText:""}),n.a.createElement(cl,{inactivo:!ol[localStorage.getItem("tipo_usuario")].serie}),n.a.createElement(Ae.a,{id:"standard-full-width",onChange:function(e){return se(e.target.value)},label:"Falla",disabled:!ol[localStorage.getItem("tipo_usuario")].falla,defaultValue:null===R||void 0===R||null===(O=R.orden)||void 0===O?void 0:O.falla,style:{margin:8,width:"90%"},placeholder:"",multiline:!0,helperText:"P. Ej. No enciende",margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(Ae.a,{id:"standard-full-width",onChange:function(e){return function(e){Ee(!0),pe(e.target.value)}(e)},label:"Trabajo",disabled:!ol[localStorage.getItem("tipo_usuario")].trabajo,defaultValue:null===R||void 0===R||null===(C=R.orden)||void 0===C?void 0:C.trabajo,style:{margin:8,width:"90%",fontSize:"50"},placeholder:"",multiline:!0,helperText:"P. Ej. Se repar\xf3 circuito",margin:"normal",InputProps:{style:{fontSize:25}},InputLabelProps:{shrink:!0}})),n.a.createElement("div",null,n.a.createElement(Ae.a,{id:"filled-full-width",label:"Observaci\xf3n",disabled:!ol[localStorage.getItem("tipo_usuario")].observacion,defaultValue:null===R||void 0===R||null===(y=R.orden)||void 0===y?void 0:y.observacion,style:{margin:"3px 10px 3px 3px",width:"425px"},placeholder:"",helperText:"",fullWidth:!0,margin:"normal",onChange:function(e){return we(e.target.value)},InputLabelProps:{shrink:!0},variant:"filled"})),n.a.createElement("div",null,n.a.createElement(Ae.a,{disabled:!0,id:"standard-disabled",label:"Usuario",value:localStorage.getItem("nombres")}))),n.a.createElement(I.a,{display:"flex",justifyContent:"flex-end"},n.a.createElement($.a,{variant:"contained",className:N.btn,disabled:Oe,onClick:w},"Cancelar"),n.a.createElement($.a,{color:"primary",disabled:Oe,variant:"contained",onClick:Be},Oe?"Actualizando...":"Guardar")))}var ul=Object(u.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),ml=n.a.forwardRef((function(e,a){return n.a.createElement(ll.a,Object.assign({direction:"up",ref:a},e))})),dl=function(e){e.orden;var a=ul(),t=Object(r.useContext)(Pn),l=t.openModalIngreso,c=t.setOpenModalIngreso,o=function(){c(!1)};return n.a.createElement("div",null,n.a.createElement(Kr.a,{fullScreen:!0,open:l,onClose:o,TransitionComponent:ml},n.a.createElement(Q.a,{className:a.appBar},n.a.createElement(Z.a,null,n.a.createElement(ee.a,{edge:"start",color:"inherit",onClick:o,"aria-label":"close"},n.a.createElement(nl.a,null)),n.a.createElement(P.a,{variant:"h6",className:a.title},"Actualizaci\xf3n de ingresos"))),n.a.createElement(sl,{fn_cerrarModal:o})))};function pl(){var e=r.useState(!1),a=Object(h.a)(e,2),t=a[0],n=a[1],l=r.useState(Qn),c=Object(h.a)(l,2),o=c[0],i=c[1],s=r.useContext(Pn),u=s.ordenes,m=s.ordenesTemp,d=s.actualizarIngreso,p=(s.setReload,s.PrepararDatosImpresion),b=s.SetIsOpenModalIngreso,f=s.SetIsOpenModalTotal,g=s.setOrdenes;r.useEffect((function(){"ATENCION AL PUBLICO"===localStorage.getItem("tipo_usuario")&&i(Zn),"TECNICO"===localStorage.getItem("tipo_usuario")&&i(el)}),[]);var E=function(){var e=Object(x.a)(j.a.mark((function e(a,t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=4,d(a);case 4:if(r=e.sent,n(!1),200===r.code){e.next=9;break}return ea.a.error(r.mensaje,2),e.abrupt("return");case 9:ea.a.success(r.mensaje,2);case 10:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.createElement(je.a,null,r.createElement(al,null),r.createElement(tl,null),r.createElement(dl,null),r.createElement("div",{style:{height:360,width:"100%",cursor:"pointer"}},r.createElement(ya.a,{rows:m,columns:o,datasets:"Commodity",onEditCellChangeCommitted:function(e){var a=e.field,t=[],r=u.map((function(r){return r.id===e.id?("fecha"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{fecha:e.props.value})),"equipo"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{equipo:e.props.value})),"marca"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{marca:e.props.value})),"modelo"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{modelo:e.props.value})),"falla"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{falla:e.props.value})),"trabajo"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{user_update_work:localStorage.getItem("user_id"),trabajo:e.props.value})),"total"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{total:e.props.value})),"abono"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{abono:e.props.value})),"observacion"===a&&(t=Object(Pe.a)(Object(Pe.a)({},r),{},{observacion:e.props.value})),E(t,a),console.log("Ingreso Nuevo",t),t):r}));g(r)},onCellDoubleClick:function(e){if("abono"===e.field){if("TECNICO"===localStorage.getItem("tipo_usuario"))return void ea.a.error("No tiene permisos para realizar esta acci\xf3n.",2);b(!0)}"total"===e.field&&("ADMINISTRADOR"===localStorage.getItem("tipo_usuario")?f(!0):ea.a.error("No tiene permisos para realizar esta acci\xf3n.",2))},pageSize:10,checkboxSelection:!1,disableSelectionOnClick:!1,rowHeight:23,loading:t,onRowSelected:function(e){p(e.data)}})))}var bl=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},productCard:{height:"100%"}}})),fl=function(){var e=bl();Object(r.useContext)(Ot).productos;return n.a.createElement(he,{className:e.root,title:"Clientes"},n.a.createElement(fe.a,{maxWidth:!1},n.a.createElement(Jn,null),n.a.createElement(I.a,{mt:3},n.a.createElement(pl,null))))},gl=t(421),El=t.n(gl),hl=Object(u.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),vl=function(){hl();var e=Object(r.useContext)(da),a=(e.historicofacturas,e.cargarHistoricoFacturasFilter);return n.a.createElement(xe.a,{style:{backgroundColor:"white",textAlign:"center"}},n.a.createElement(I.a,{maxWidth:500},n.a.createElement(Ae.a,{fullWidth:!0,onKeyDown:function(e){"Enter"===e.key&&a(e.target.value)},InputProps:{startAdornment:n.a.createElement(Je.a,{position:"start"},n.a.createElement(Qe.a,{fontSize:"small",color:"action"},n.a.createElement(ca.a,null)))},placeholder:"Buscar Facturas.",variant:"outlined"})))},Ol=Object(u.a)({root:{"& > *":{borderBottom:"unset"}}});function jl(e){var a=e.row,t=n.a.useState(!1),l=Object(h.a)(t,2),c=l[0],o=l[1],i=Ol(),s=Object(r.useContext)(da),u=s.fn_anularFactura,m=s.setIsReload;return n.a.createElement(n.a.Fragment,null,n.a.createElement(qe.a,{className:i.root},n.a.createElement(ze.a,null,n.a.createElement(ee.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!c)}},c?n.a.createElement(ln.a,null):n.a.createElement(rn.a,null))),n.a.createElement(ze.a,{align:"left"},a.id),n.a.createElement(ze.a,{component:"th",scope:"row"},a.cliente),n.a.createElement(ze.a,{align:"left"},a.fecha),n.a.createElement(ze.a,{align:"right"},"$ ",a.total),n.a.createElement(ze.a,{align:"right"},a.observacion),n.a.createElement(ze.a,{align:"right"},a.estado),ol[localStorage.getItem("tipo_usuario")]["anular factura"]&&n.a.createElement(ze.a,{align:"right"},n.a.createElement(El.a,{title:"Anular Factura",onClick:function(){return e=a.id,void("cerrada"===a.estado?Xe.a.fire({title:"\xbfEst\xe1 seguro de Anular la Factura?",showDenyButton:!0,confirmButtonText:"si, Anular",denyButtonText:"Cancelar"}).then(function(){var a=Object(x.a)(j.a.mark((function a(t){var r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.isConfirmed){a.next=5;break}return a.next=3,u(e);case 3:200===(r=a.sent).codigo?(Xe.a.fire(r.mensaje,"","success"),m(!0)):Xe.a.fire(r.mensaje,"","warning");case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()):Xe.a.fire("No permitido.","","warning"));var e},style:{cursor:"pointer"}}))),n.a.createElement(qe.a,null,n.a.createElement(ze.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},n.a.createElement(an.a,{in:c,timeout:"auto",unmountOnExit:!0},n.a.createElement(I.a,{margin:1},n.a.createElement(P.a,{variant:"h6",gutterBottom:!0,component:"div"},"Detalles"),n.a.createElement(Ue.a,{size:"small","aria-label":"purchases"},n.a.createElement(We.a,null,n.a.createElement(qe.a,null,n.a.createElement(ze.a,null,"Cant."),n.a.createElement(ze.a,null,"Producto"),n.a.createElement(ze.a,{align:"center"},"Total Item ($)"),n.a.createElement(ze.a,{align:"right"},"Tipo Precio"))),n.a.createElement(Ge.a,null,a.detalles.map((function(e){return n.a.createElement(qe.a,{key:"d"+e.id},n.a.createElement(ze.a,{component:"th",scope:"row"},e.cantidad),n.a.createElement(ze.a,null,e.producto),n.a.createElement(ze.a,{align:"center"},"$ ",e.subtotal),n.a.createElement(ze.a,{align:"right"},e.precio_tipo))})))))))))}function xl(){var e=Object(r.useContext)(da).historicofacturas;return n.a.createElement(n.a.Fragment,null,n.a.createElement("center",null,n.a.createElement("h1",null,"Historico de facturas")),n.a.createElement(vl,null),n.a.createElement($r.a,{component:qt.a},n.a.createElement(Ue.a,{"aria-label":"collapsible table"},n.a.createElement(We.a,null,n.a.createElement(qe.a,null,n.a.createElement(ze.a,null),n.a.createElement(ze.a,null,"N\xb0 Fac"),n.a.createElement(ze.a,null,"Cliente"),n.a.createElement(ze.a,{align:"left"},"Fecha"),n.a.createElement(ze.a,{align:"right"},"Total"),n.a.createElement(ze.a,{align:"right"},"Observaci\xf3n"),n.a.createElement(ze.a,{align:"right"},"Estatus"),ol[localStorage.getItem("tipo_usuario")]["anular factura"]&&n.a.createElement(ze.a,{align:"right"},"Acciones"))),n.a.createElement(Ge.a,null,e.map((function(e,a){return n.a.createElement(jl,{key:a,row:e.factura})}))))))}var Cl=[{path:"app",element:n.a.createElement(ue,null),children:[{path:"account",element:n.a.createElement(Me,null)},{path:"puntoventa",element:n.a.createElement(Gr,null)},{path:"customers",element:n.a.createElement(Ta,null)},{path:"dashboard",element:n.a.createElement(lt,null)},{path:"products",element:n.a.createElement(Pt,null)},{path:"settings",element:n.a.createElement(Wt,null)},{path:"creditos",element:n.a.createElement(wn,null)},{path:"ingreso",element:n.a.createElement(fl,null)},{path:"facturas",element:n.a.createElement(xl,null)},{path:"*",element:n.a.createElement(i.a,{to:"/404"})}]},{path:"/",element:n.a.createElement(be,null),children:[{path:"login",element:n.a.createElement(st,null)},{path:"register",element:n.a.createElement(Bt,null)},{path:"404",element:n.a.createElement(mt,null)},{path:"/",element:n.a.createElement(i.a,{to:"/login"})},{path:"*",element:n.a.createElement(i.a,{to:"/404"})}]}],yl=function(){var e=Object(i.i)(Cl);return n.a.createElement(s.a,{theme:E},n.a.createElement(p,null),e)};c.a.render(n.a.createElement(o.a,null,n.a.createElement(k,null,n.a.createElement(Ea,null,n.a.createElement(kn,null,n.a.createElement(jt,null,n.a.createElement(la,null,n.a.createElement(Mn,null,n.a.createElement(Yt,null,n.a.createElement(Zt,null,n.a.createElement(yl,null)))))))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[598,1,2]]]);
//# sourceMappingURL=main.6c4ff3eb.chunk.js.map